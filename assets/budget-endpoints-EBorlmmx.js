import{p as E,a as A}from"./chunk-JZWAC4HX-Ct9RjdWh.js";import{I as gi}from"./visualization.queries-B-nhTonm.js";import{P as Nt,u as or,a as Sn,c as yi,b as va,d as _a,e as wa,f as qe,g as vi,h as ba,D as xa,i as ka}from"./index-CGdvuWtd.js";import{b as za,o as Aa,d as $a,f as Sa,e as Ta,h as Na,g as Xr,i as Ea,j as Ca,S as Ra,c as Oa,l as H}from"./react-select.esm-DdJz1C4J.js";import{a as Ma}from"./index-DWhu2-He.js";import{V as Ia,P as zr,t as Pa}from"./gql-BZ1uQXhR.js";import{f as Za}from"./helpers-BPzk2_Ug.js";function qr(e,t){return t}const h_=({items:e,className:t=""})=>E.jsx("div",{className:`flex items-center justify-center gap-5 ${t}`,children:e.map(n=>E.jsxs("div",{className:"flex flex-col items-center justify-center gap-y-6",children:[E.jsx(gi,{src:n.icon,alt:n.alt,className:"h-[48px] w-[48px]"}),E.jsx("p",{children:n.label})]},n.alt))}),d_=[{icon:"/icon/circle-pack-frozen.svg",label:"凍結",alt:"circle-pack-frozen"},{icon:"/icon/circle-pack-default.svg",label:"刪除",alt:"circle-pack-default"},{icon:"/icon/circle-pack-main.svg",label:"主決議",alt:"circle-pack-main"}];var Da=typeof document<"u",ja=function(){},Xt=Da?A.useLayoutEffect:ja;function on(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!on(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!on(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function _i(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Kr(e,t){const n=_i(e);return Math.round(t*n)/n}function Vn(e){const t=A.useRef(e);return Xt(()=>{t.current=e}),t}function Fa(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[l,f]=A.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,d]=A.useState(r);on(h,r)||d(r);const[y,p]=A.useState(null),[v,m]=A.useState(null),_=A.useCallback(w=>{w!==T.current&&(T.current=w,p(w))},[]),k=A.useCallback(w=>{w!==j.current&&(j.current=w,m(w))},[]),z=i||y,$=s||v,T=A.useRef(null),j=A.useRef(null),S=A.useRef(l),I=c!=null,U=Vn(c),G=Vn(o),M=Vn(u),B=A.useCallback(()=>{if(!T.current||!j.current)return;const w={placement:t,strategy:n,middleware:h};G.current&&(w.platform=G.current),za(T.current,j.current,w).then(F=>{const D={...F,isPositioned:M.current!==!1};g.current&&!on(S.current,D)&&(S.current=D,Ma.flushSync(()=>{f(D)}))})},[h,t,n,G,M]);Xt(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(w=>({...w,isPositioned:!1})))},[u]);const g=A.useRef(!1);Xt(()=>(g.current=!0,()=>{g.current=!1}),[]),Xt(()=>{if(z&&(T.current=z),$&&(j.current=$),z&&$){if(U.current)return U.current(z,$,B);B()}},[z,$,B,U,I]);const C=A.useMemo(()=>({reference:T,floating:j,setReference:_,setFloating:k}),[_,k]),b=A.useMemo(()=>({reference:z,floating:$}),[z,$]),R=A.useMemo(()=>{const w={position:n,left:0,top:0};if(!b.floating)return w;const F=Kr(b.floating,l.x),D=Kr(b.floating,l.y);return a?{...w,transform:"translate("+F+"px, "+D+"px)",..._i(b.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:D}},[n,a,b.floating,l.x,l.y]);return A.useMemo(()=>({...l,update:B,refs:C,elements:b,floatingStyles:R}),[l,B,C,b,R])}const La=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Xr({element:r.current,padding:o}).fn(n):{}:r?Xr({element:r,padding:o}).fn(n):{}}}},Va=(e,t)=>({...Aa(e),options:[e,t]}),Ua=(e,t)=>({...$a(e),options:[e,t]}),Ba=(e,t)=>({...Ea(e),options:[e,t]}),Ha=(e,t)=>({...Sa(e),options:[e,t]}),Ga=(e,t)=>({...Ta(e),options:[e,t]}),Wa=(e,t)=>({...Na(e),options:[e,t]}),Ya=(e,t)=>({...La(e),options:[e,t]});var Ja="Arrow",wi=A.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return E.jsx(Nt.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:E.jsx("polygon",{points:"0,0 30,0 15,10"})})});wi.displayName=Ja;var Xa=wi;function qa(e){const[t,n]=A.useState(void 0);return or(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let s,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Ar="Popper",[bi,xi]=yi(Ar),[Ka,ki]=bi(Ar),zi=e=>{const{__scopePopper:t,children:n}=e,[r,o]=A.useState(null);return E.jsx(Ka,{scope:t,anchor:r,onAnchorChange:o,children:n})};zi.displayName=Ar;var Ai="PopperAnchor",$i=A.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=ki(Ai,n),s=A.useRef(null),a=Sn(t,s),c=A.useRef(null);return A.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||s.current,u!==c.current&&i.onAnchorChange(c.current)}),r?null:E.jsx(Nt.div,{...o,ref:a})});$i.displayName=Ai;var $r="PopperContent",[Qa,ec]=bi($r),Si=A.forwardRef((e,t)=>{var O,L,K,se,ce,ue;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:l=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:d="optimized",onPlaced:y,...p}=e,v=ki($r,n),[m,_]=A.useState(null),k=Sn(t,fe=>_(fe)),[z,$]=A.useState(null),T=qa(z),j=(T==null?void 0:T.width)??0,S=(T==null?void 0:T.height)??0,I=r+(i!=="center"?"-"+i:""),U=typeof l=="number"?l:{top:0,right:0,bottom:0,left:0,...l},G=Array.isArray(u)?u:[u],M=G.length>0,B={padding:U,boundary:G.filter(nc),altBoundary:M},{refs:g,floatingStyles:C,placement:b,isPositioned:R,middlewareData:w}=Fa({strategy:"fixed",placement:I,whileElementsMounted:(...fe)=>Ca(...fe,{animationFrame:d==="always"}),elements:{reference:v.anchor},middleware:[Va({mainAxis:o+S,alignmentAxis:s}),c&&Ua({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Ba():void 0,...B}),c&&Ha({...B}),Ga({...B,apply:({elements:fe,rects:Ne,availableWidth:Mt,availableHeight:It})=>{const{width:ve,height:Ie}=Ne.reference,ze=fe.floating.style;ze.setProperty("--radix-popper-available-width",`${Mt}px`),ze.setProperty("--radix-popper-available-height",`${It}px`),ze.setProperty("--radix-popper-anchor-width",`${ve}px`),ze.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),z&&Ya({element:z,padding:a}),rc({arrowWidth:j,arrowHeight:S}),h&&Wa({strategy:"referenceHidden",...B})]}),[F,D]=Ei(b),W=va(y);or(()=>{R&&(W==null||W())},[R,W]);const q=(O=w.arrow)==null?void 0:O.x,J=(L=w.arrow)==null?void 0:L.y,X=((K=w.arrow)==null?void 0:K.centerOffset)!==0,[oe,N]=A.useState();return or(()=>{m&&N(window.getComputedStyle(m).zIndex)},[m]),E.jsx("div",{ref:g.setFloating,"data-radix-popper-content-wrapper":"",style:{...C,transform:R?C.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[(se=w.transformOrigin)==null?void 0:se.x,(ce=w.transformOrigin)==null?void 0:ce.y].join(" "),...((ue=w.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:E.jsx(Qa,{scope:n,placedSide:F,onArrowChange:$,arrowX:q,arrowY:J,shouldHideArrow:X,children:E.jsx(Nt.div,{"data-side":F,"data-align":D,...p,ref:k,style:{...p.style,animation:R?void 0:"none"}})})})});Si.displayName=$r;var Ti="PopperArrow",tc={top:"bottom",right:"left",bottom:"top",left:"right"},Ni=A.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=ec(Ti,r),s=tc[i.placedSide];return E.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:E.jsx(Xa,{...o,ref:n,style:{...o.style,display:"block"}})})});Ni.displayName=Ti;function nc(e){return e!==null}var rc=e=>({name:"transformOrigin",options:e,fn(t){var v,m,_;const{placement:n,rects:r,middlewareData:o}=t,s=((v=o.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:e.arrowWidth,c=s?0:e.arrowHeight,[u,l]=Ei(n),f={start:"0%",center:"50%",end:"100%"}[l],h=(((m=o.arrow)==null?void 0:m.x)??0)+a/2,d=(((_=o.arrow)==null?void 0:_.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=s?f:`${h}px`,p=`${-c}px`):u==="top"?(y=s?f:`${h}px`,p=`${r.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=s?f:`${d}px`):u==="left"&&(y=`${r.floating.width+c}px`,p=s?f:`${d}px`),{data:{x:y,y:p}}}});function Ei(e){const[t,n="center"]=e.split("-");return[t,n]}var oc=zi,ic=$i,sc=Si,ac=Ni,cc=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),uc="VisuallyHidden",Ci=A.forwardRef((e,t)=>E.jsx(Nt.span,{...e,ref:t,style:{...cc,...e.style}}));Ci.displayName=uc;var lc=Ci,[Tn]=yi("Tooltip",[xi]),Nn=xi(),Ri="TooltipProvider",fc=700,ir="tooltip.open",[hc,Sr]=Tn(Ri),Oi=e=>{const{__scopeTooltip:t,delayDuration:n=fc,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:i}=e,s=A.useRef(!0),a=A.useRef(!1),c=A.useRef(0);return A.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),E.jsx(hc,{scope:t,isOpenDelayedRef:s,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(c.current),s.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>s.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:A.useCallback(u=>{a.current=u},[]),disableHoverableContent:o,children:i})};Oi.displayName=Ri;var xt="Tooltip",[dc,Et]=Tn(xt),Mi=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:o,onOpenChange:i,disableHoverableContent:s,delayDuration:a}=e,c=Sr(xt,e.__scopeTooltip),u=Nn(t),[l,f]=A.useState(null),h=_a(),d=A.useRef(0),y=s??c.disableHoverableContent,p=a??c.delayDuration,v=A.useRef(!1),[m,_]=wa({prop:r,defaultProp:o??!1,onChange:j=>{j?(c.onOpen(),document.dispatchEvent(new CustomEvent(ir))):c.onClose(),i==null||i(j)},caller:xt}),k=A.useMemo(()=>m?v.current?"delayed-open":"instant-open":"closed",[m]),z=A.useCallback(()=>{window.clearTimeout(d.current),d.current=0,v.current=!1,_(!0)},[_]),$=A.useCallback(()=>{window.clearTimeout(d.current),d.current=0,_(!1)},[_]),T=A.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{v.current=!0,_(!0),d.current=0},p)},[p,_]);return A.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),E.jsx(oc,{...u,children:E.jsx(dc,{scope:t,contentId:h,open:m,stateAttribute:k,trigger:l,onTriggerChange:f,onTriggerEnter:A.useCallback(()=>{c.isOpenDelayedRef.current?T():z()},[c.isOpenDelayedRef,T,z]),onTriggerLeave:A.useCallback(()=>{y?$():(window.clearTimeout(d.current),d.current=0)},[$,y]),onOpen:z,onClose:$,disableHoverableContent:y,children:n})})};Mi.displayName=xt;var sr="TooltipTrigger",Ii=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Et(sr,n),i=Sr(sr,n),s=Nn(n),a=A.useRef(null),c=Sn(t,a,o.onTriggerChange),u=A.useRef(!1),l=A.useRef(!1),f=A.useCallback(()=>u.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),E.jsx(ic,{asChild:!0,...s,children:E.jsx(Nt.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:c,onPointerMove:qe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!l.current&&!i.isPointerInTransitRef.current&&(o.onTriggerEnter(),l.current=!0)}),onPointerLeave:qe(e.onPointerLeave,()=>{o.onTriggerLeave(),l.current=!1}),onPointerDown:qe(e.onPointerDown,()=>{o.open&&o.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:qe(e.onFocus,()=>{u.current||o.onOpen()}),onBlur:qe(e.onBlur,o.onClose),onClick:qe(e.onClick,o.onClose)})})});Ii.displayName=sr;var Tr="TooltipPortal",[pc,mc]=Tn(Tr,{forceMount:void 0}),Pi=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:o}=e,i=Et(Tr,t);return E.jsx(pc,{scope:t,forceMount:n,children:E.jsx(vi,{present:n||i.open,children:E.jsx(ba,{asChild:!0,container:o,children:r})})})};Pi.displayName=Tr;var st="TooltipContent",Zi=A.forwardRef((e,t)=>{const n=mc(st,e.__scopeTooltip),{forceMount:r=n.forceMount,side:o="top",...i}=e,s=Et(st,e.__scopeTooltip);return E.jsx(vi,{present:r||s.open,children:s.disableHoverableContent?E.jsx(Di,{side:o,...i,ref:t}):E.jsx(gc,{side:o,...i,ref:t})})}),gc=A.forwardRef((e,t)=>{const n=Et(st,e.__scopeTooltip),r=Sr(st,e.__scopeTooltip),o=A.useRef(null),i=Sn(t,o),[s,a]=A.useState(null),{trigger:c,onClose:u}=n,l=o.current,{onPointerInTransitChange:f}=r,h=A.useCallback(()=>{a(null),f(!1)},[f]),d=A.useCallback((y,p)=>{const v=y.currentTarget,m={x:y.clientX,y:y.clientY},_=wc(m,v.getBoundingClientRect()),k=bc(m,_),z=xc(p.getBoundingClientRect()),$=zc([...k,...z]);a($),f(!0)},[f]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(c&&l){const y=v=>d(v,l),p=v=>d(v,c);return c.addEventListener("pointerleave",y),l.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),l.removeEventListener("pointerleave",p)}}},[c,l,d,h]),A.useEffect(()=>{if(s){const y=p=>{const v=p.target,m={x:p.clientX,y:p.clientY},_=(c==null?void 0:c.contains(v))||(l==null?void 0:l.contains(v)),k=!kc(m,s);_?h():k&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,l,s,u,h]),E.jsx(Di,{...e,ref:i})}),[yc,vc]=Tn(xt,{isInside:!1}),_c=ka("TooltipContent"),Di=A.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":o,onEscapeKeyDown:i,onPointerDownOutside:s,...a}=e,c=Et(st,n),u=Nn(n),{onClose:l}=c;return A.useEffect(()=>(document.addEventListener(ir,l),()=>document.removeEventListener(ir,l)),[l]),A.useEffect(()=>{if(c.trigger){const f=h=>{const d=h.target;d!=null&&d.contains(c.trigger)&&l()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,l]),E.jsx(xa,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:l,children:E.jsxs(sc,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[E.jsx(_c,{children:r}),E.jsx(yc,{scope:n,isInside:!0,children:E.jsx(lc,{id:c.contentId,role:"tooltip",children:o||r})})]})})});Zi.displayName=st;var ji="TooltipArrow",Fi=A.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,o=Nn(n);return vc(ji,n).isInside?null:E.jsx(ac,{...o,...r,ref:t})});Fi.displayName=ji;function wc(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,o,i)){case i:return"left";case o:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bc(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function xc(e){const{top:t,right:n,bottom:r,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:r},{x:o,y:r}]}function kc(e,t){const{x:n,y:r}=e;let o=!1;for(let i=0,s=t.length-1;i<t.length;s=i++){const a=t[i],c=t[s],u=a.x,l=a.y,f=c.x,h=c.y;l>r!=h>r&&n<(f-u)*(r-l)/(h-l)+u&&(o=!o)}return o}function zc(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Ac(t)}function Ac(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const o=e[r];for(;t.length>=2;){const i=t[t.length-1],s=t[t.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;n.length>=2;){const i=n[n.length-1],s=n[n.length-2];if((i.x-s.x)*(o.y-s.y)>=(i.y-s.y)*(o.x-s.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var $c=Oi,Sc=Mi,Tc=Ii,Nc=Pi,Ec=Zi,Cc=Fi;function Li(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Li(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rc(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Li(e))&&(r&&(r+=" "),r+=t);return r}const Oc=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},Mc=(e,t)=>({classGroupId:e,validator:t}),Vi=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),sn="-",Qr=[],Ic="arbitrary..",Pc=e=>{const t=Dc(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{if(s.startsWith("[")&&s.endsWith("]"))return Zc(s);const a=s.split(sn),c=a[0]===""&&a.length>1?1:0;return Ui(a,c,t)},getConflictingClassGroupIds:(s,a)=>{if(a){const c=r[s],u=n[s];return c?u?Oc(u,c):c:u||Qr}return n[s]||Qr}}},Ui=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const o=e[t],i=n.nextPart.get(o);if(i){const u=Ui(e,t+1,i);if(u)return u}const s=n.validators;if(s===null)return;const a=t===0?e.join(sn):e.slice(t).join(sn),c=s.length;for(let u=0;u<c;u++){const l=s[u];if(l.validator(a))return l.classGroupId}},Zc=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?Ic+r:void 0})(),Dc=e=>{const{theme:t,classGroups:n}=e;return jc(n,t)},jc=(e,t)=>{const n=Vi();for(const r in e){const o=e[r];Nr(o,n,r,t)}return n},Nr=(e,t,n,r)=>{const o=e.length;for(let i=0;i<o;i++){const s=e[i];Fc(s,t,n,r)}},Fc=(e,t,n,r)=>{if(typeof e=="string"){Lc(e,t,n);return}if(typeof e=="function"){Vc(e,t,n,r);return}Uc(e,t,n,r)},Lc=(e,t,n)=>{const r=e===""?t:Bi(t,e);r.classGroupId=n},Vc=(e,t,n,r)=>{if(Bc(e)){Nr(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(Mc(n,e))},Uc=(e,t,n,r)=>{const o=Object.entries(e),i=o.length;for(let s=0;s<i;s++){const[a,c]=o[s];Nr(c,Bi(t,a),n,r)}},Bi=(e,t)=>{let n=e;const r=t.split(sn),o=r.length;for(let i=0;i<o;i++){const s=r[i];let a=n.nextPart.get(s);a||(a=Vi(),n.nextPart.set(s,a)),n=a}return n},Bc=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Hc=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(i,s)=>{n[i]=s,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set(i,s){i in n?n[i]=s:o(i,s)}}},ar="!",eo=":",Gc=[],to=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),Wc=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=o=>{const i=[];let s=0,a=0,c=0,u;const l=o.length;for(let p=0;p<l;p++){const v=o[p];if(s===0&&a===0){if(v===eo){i.push(o.slice(c,p)),c=p+1;continue}if(v==="/"){u=p;continue}}v==="["?s++:v==="]"?s--:v==="("?a++:v===")"&&a--}const f=i.length===0?o:o.slice(c);let h=f,d=!1;f.endsWith(ar)?(h=f.slice(0,-1),d=!0):f.startsWith(ar)&&(h=f.slice(1),d=!0);const y=u&&u>c?u-c:void 0;return to(i,d,h,y)};if(t){const o=t+eo,i=r;r=s=>s.startsWith(o)?i(s.slice(o.length)):to(Gc,!1,s,void 0,!0)}if(n){const o=r;r=i=>n({className:i,parseClassName:o})}return r},Yc=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let o=[];for(let i=0;i<n.length;i++){const s=n[i],a=s[0]==="[",c=t.has(s);a||c?(o.length>0&&(o.sort(),r.push(...o),o=[]),r.push(s)):o.push(s)}return o.length>0&&(o.sort(),r.push(...o)),r}},Jc=e=>({cache:Hc(e.cacheSize),parseClassName:Wc(e),sortModifiers:Yc(e),...Pc(e)}),Xc=/\s+/,qc=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,s=[],a=e.trim().split(Xc);let c="";for(let u=a.length-1;u>=0;u-=1){const l=a[u],{isExternal:f,modifiers:h,hasImportantModifier:d,baseClassName:y,maybePostfixModifierPosition:p}=n(l);if(f){c=l+(c.length>0?" "+c:c);continue}let v=!!p,m=r(v?y.substring(0,p):y);if(!m){if(!v){c=l+(c.length>0?" "+c:c);continue}if(m=r(y),!m){c=l+(c.length>0?" "+c:c);continue}v=!1}const _=h.length===0?"":h.length===1?h[0]:i(h).join(":"),k=d?_+ar:_,z=k+m;if(s.indexOf(z)>-1)continue;s.push(z);const $=o(m,v);for(let T=0;T<$.length;++T){const j=$[T];s.push(k+j)}c=l+(c.length>0?" "+c:c)}return c},Kc=(...e)=>{let t=0,n,r,o="";for(;t<e.length;)(n=e[t++])&&(r=Hi(n))&&(o&&(o+=" "),o+=r);return o},Hi=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hi(e[r]))&&(n&&(n+=" "),n+=t);return n},Qc=(e,...t)=>{let n,r,o,i;const s=c=>{const u=t.reduce((l,f)=>f(l),e());return n=Jc(u),r=n.cache.get,o=n.cache.set,i=a,a(c)},a=c=>{const u=r(c);if(u)return u;const l=qc(c,n);return o(c,l),l};return i=s,(...c)=>i(Kc(...c))},eu=[],ie=e=>{const t=n=>n[e]||eu;return t.isThemeGetter=!0,t},Gi=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Wi=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tu=/^\d+\/\d+$/,nu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ru=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ou=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iu=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,su=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ke=e=>tu.test(e),Y=e=>!!e&&!Number.isNaN(Number(e)),Pe=e=>!!e&&Number.isInteger(Number(e)),Un=e=>e.endsWith("%")&&Y(e.slice(0,-1)),Ee=e=>nu.test(e),au=()=>!0,cu=e=>ru.test(e)&&!ou.test(e),Yi=()=>!1,uu=e=>iu.test(e),lu=e=>su.test(e),fu=e=>!P(e)&&!Z(e),hu=e=>lt(e,qi,Yi),P=e=>Gi.test(e),Le=e=>lt(e,Ki,cu),Bn=e=>lt(e,yu,Y),no=e=>lt(e,Ji,Yi),du=e=>lt(e,Xi,lu),Zt=e=>lt(e,Qi,uu),Z=e=>Wi.test(e),pt=e=>ft(e,Ki),pu=e=>ft(e,vu),ro=e=>ft(e,Ji),mu=e=>ft(e,qi),gu=e=>ft(e,Xi),Dt=e=>ft(e,Qi,!0),lt=(e,t,n)=>{const r=Gi.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},ft=(e,t,n=!1)=>{const r=Wi.exec(e);return r?r[1]?t(r[1]):n:!1},Ji=e=>e==="position"||e==="percentage",Xi=e=>e==="image"||e==="url",qi=e=>e==="length"||e==="size"||e==="bg-size",Ki=e=>e==="length",yu=e=>e==="number",vu=e=>e==="family-name",Qi=e=>e==="shadow",_u=()=>{const e=ie("color"),t=ie("font"),n=ie("text"),r=ie("font-weight"),o=ie("tracking"),i=ie("leading"),s=ie("breakpoint"),a=ie("container"),c=ie("spacing"),u=ie("radius"),l=ie("shadow"),f=ie("inset-shadow"),h=ie("text-shadow"),d=ie("drop-shadow"),y=ie("blur"),p=ie("perspective"),v=ie("aspect"),m=ie("ease"),_=ie("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...z(),Z,P],T=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],S=()=>[Z,P,c],I=()=>[Ke,"full","auto",...S()],U=()=>[Pe,"none","subgrid",Z,P],G=()=>["auto",{span:["full",Pe,Z,P]},Pe,Z,P],M=()=>[Pe,"auto",Z,P],B=()=>["auto","min","max","fr",Z,P],g=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],b=()=>["auto",...S()],R=()=>[Ke,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],w=()=>[e,Z,P],F=()=>[...z(),ro,no,{position:[Z,P]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],W=()=>["auto","cover","contain",mu,hu,{size:[Z,P]}],q=()=>[Un,pt,Le],J=()=>["","none","full",u,Z,P],X=()=>["",Y,pt,Le],oe=()=>["solid","dashed","dotted","double"],N=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>[Y,Un,ro,no],L=()=>["","none",y,Z,P],K=()=>["none",Y,Z,P],se=()=>["none",Y,Z,P],ce=()=>[Y,Z,P],ue=()=>[Ke,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ee],breakpoint:[Ee],color:[au],container:[Ee],"drop-shadow":[Ee],ease:["in","out","in-out"],font:[fu],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ee],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ee],shadow:[Ee],spacing:["px",Y],text:[Ee],"text-shadow":[Ee],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ke,P,Z,v]}],container:["container"],columns:[{columns:[Y,P,Z,a]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Pe,"auto",Z,P]}],basis:[{basis:[Ke,"full","auto",a,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Y,Ke,"auto","initial","none",P]}],grow:[{grow:["",Y,Z,P]}],shrink:[{shrink:["",Y,Z,P]}],order:[{order:[Pe,"first","last","none",Z,P]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...g(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...g()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":g()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:b()}],mx:[{mx:b()}],my:[{my:b()}],ms:[{ms:b()}],me:[{me:b()}],mt:[{mt:b()}],mr:[{mr:b()}],mb:[{mb:b()}],ml:[{ml:b()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[a,"screen",...R()]}],"min-w":[{"min-w":[a,"screen","none",...R()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",n,pt,Le]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Z,Bn]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Un,P]}],"font-family":[{font:[pu,P,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Z,P]}],"line-clamp":[{"line-clamp":[Y,"none",Z,Bn]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Z,P]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Z,P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:w()}],"text-color":[{text:w()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Y,"from-font","auto",Z,Le]}],"text-decoration-color":[{decoration:w()}],"underline-offset":[{"underline-offset":[Y,"auto",Z,P]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z,P]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z,P]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:W()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Pe,Z,P],radial:["",Z,P],conic:[Pe,Z,P]},gu,du]}],"bg-color":[{bg:w()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:w()}],"gradient-via":[{via:w()}],"gradient-to":[{to:w()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:w()}],"border-color-x":[{"border-x":w()}],"border-color-y":[{"border-y":w()}],"border-color-s":[{"border-s":w()}],"border-color-e":[{"border-e":w()}],"border-color-t":[{"border-t":w()}],"border-color-r":[{"border-r":w()}],"border-color-b":[{"border-b":w()}],"border-color-l":[{"border-l":w()}],"divide-color":[{divide:w()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Y,Z,P]}],"outline-w":[{outline:["",Y,pt,Le]}],"outline-color":[{outline:w()}],shadow:[{shadow:["","none",l,Dt,Zt]}],"shadow-color":[{shadow:w()}],"inset-shadow":[{"inset-shadow":["none",f,Dt,Zt]}],"inset-shadow-color":[{"inset-shadow":w()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:w()}],"ring-offset-w":[{"ring-offset":[Y,Le]}],"ring-offset-color":[{"ring-offset":w()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":w()}],"text-shadow":[{"text-shadow":["none",h,Dt,Zt]}],"text-shadow-color":[{"text-shadow":w()}],opacity:[{opacity:[Y,Z,P]}],"mix-blend":[{"mix-blend":[...N(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":N()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Y]}],"mask-image-linear-from-pos":[{"mask-linear-from":O()}],"mask-image-linear-to-pos":[{"mask-linear-to":O()}],"mask-image-linear-from-color":[{"mask-linear-from":w()}],"mask-image-linear-to-color":[{"mask-linear-to":w()}],"mask-image-t-from-pos":[{"mask-t-from":O()}],"mask-image-t-to-pos":[{"mask-t-to":O()}],"mask-image-t-from-color":[{"mask-t-from":w()}],"mask-image-t-to-color":[{"mask-t-to":w()}],"mask-image-r-from-pos":[{"mask-r-from":O()}],"mask-image-r-to-pos":[{"mask-r-to":O()}],"mask-image-r-from-color":[{"mask-r-from":w()}],"mask-image-r-to-color":[{"mask-r-to":w()}],"mask-image-b-from-pos":[{"mask-b-from":O()}],"mask-image-b-to-pos":[{"mask-b-to":O()}],"mask-image-b-from-color":[{"mask-b-from":w()}],"mask-image-b-to-color":[{"mask-b-to":w()}],"mask-image-l-from-pos":[{"mask-l-from":O()}],"mask-image-l-to-pos":[{"mask-l-to":O()}],"mask-image-l-from-color":[{"mask-l-from":w()}],"mask-image-l-to-color":[{"mask-l-to":w()}],"mask-image-x-from-pos":[{"mask-x-from":O()}],"mask-image-x-to-pos":[{"mask-x-to":O()}],"mask-image-x-from-color":[{"mask-x-from":w()}],"mask-image-x-to-color":[{"mask-x-to":w()}],"mask-image-y-from-pos":[{"mask-y-from":O()}],"mask-image-y-to-pos":[{"mask-y-to":O()}],"mask-image-y-from-color":[{"mask-y-from":w()}],"mask-image-y-to-color":[{"mask-y-to":w()}],"mask-image-radial":[{"mask-radial":[Z,P]}],"mask-image-radial-from-pos":[{"mask-radial-from":O()}],"mask-image-radial-to-pos":[{"mask-radial-to":O()}],"mask-image-radial-from-color":[{"mask-radial-from":w()}],"mask-image-radial-to-color":[{"mask-radial-to":w()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Y]}],"mask-image-conic-from-pos":[{"mask-conic-from":O()}],"mask-image-conic-to-pos":[{"mask-conic-to":O()}],"mask-image-conic-from-color":[{"mask-conic-from":w()}],"mask-image-conic-to-color":[{"mask-conic-to":w()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:W()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Z,P]}],filter:[{filter:["","none",Z,P]}],blur:[{blur:L()}],brightness:[{brightness:[Y,Z,P]}],contrast:[{contrast:[Y,Z,P]}],"drop-shadow":[{"drop-shadow":["","none",d,Dt,Zt]}],"drop-shadow-color":[{"drop-shadow":w()}],grayscale:[{grayscale:["",Y,Z,P]}],"hue-rotate":[{"hue-rotate":[Y,Z,P]}],invert:[{invert:["",Y,Z,P]}],saturate:[{saturate:[Y,Z,P]}],sepia:[{sepia:["",Y,Z,P]}],"backdrop-filter":[{"backdrop-filter":["","none",Z,P]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[Y,Z,P]}],"backdrop-contrast":[{"backdrop-contrast":[Y,Z,P]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Y,Z,P]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Y,Z,P]}],"backdrop-invert":[{"backdrop-invert":["",Y,Z,P]}],"backdrop-opacity":[{"backdrop-opacity":[Y,Z,P]}],"backdrop-saturate":[{"backdrop-saturate":[Y,Z,P]}],"backdrop-sepia":[{"backdrop-sepia":["",Y,Z,P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Z,P]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Y,"initial",Z,P]}],ease:[{ease:["linear","initial",m,Z,P]}],delay:[{delay:[Y,Z,P]}],animate:[{animate:["none",_,Z,P]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[p,Z,P]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:se()}],"scale-x":[{"scale-x":se()}],"scale-y":[{"scale-y":se()}],"scale-z":[{"scale-z":se()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[Z,P,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:w()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:w()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z,P]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z,P]}],fill:[{fill:["none",...w()]}],"stroke-w":[{stroke:[Y,pt,Le,Bn]}],stroke:[{stroke:["none",...w()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},wu=Qc(_u);function bu(...e){return wu(Rc(e))}function xu({delayDuration:e=0,...t}){return E.jsx($c,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function ku({...e}){return E.jsx(xu,{children:E.jsx(Sc,{"data-slot":"tooltip",...e})})}function zu({...e}){return E.jsx(Tc,{"data-slot":"tooltip-trigger",...e})}function Au({className:e,sideOffset:t=0,children:n,...r}){return E.jsx(Nc,{children:E.jsxs(Ec,{"data-slot":"tooltip-content",sideOffset:t,className:bu("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,E.jsx(Cc,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const $u={reduction:"刪減金額為立委通過的預算提案單加總，若預算科目相同、子項目不同時無法處理（此為該部會內部資料），最終刪減狀況請以該部會法定預算為主。",freeze:"凍結金額為立委通過的預算提案單加總，若預算科目相同、子項目不同時無法處理（此為該部會內部資料），最終凍結狀況請以該部會法定預算為主。",mainResolution:"指沒有刪減、也沒有凍結金額的提案，通常是對該預算的建議。實務上，實質效力要看提案立委後續有沒有追蹤該機關實質改進狀況。"},Hn=({tooltipContentType:e})=>E.jsxs(ku,{children:[E.jsx(zu,{asChild:!0,children:E.jsx("span",{className:"ml-1 inline-flex",children:E.jsx(gi,{src:"/icon/icon-explain.svg",alt:"說明",className:"h-4 w-4"})})}),E.jsx(Au,{className:"max-w-40 bg-black break-words text-white",children:$u[e]})]}),p_=({summary:e})=>E.jsxs("div",{className:"mx-auto mt-4 flex max-w-lg flex-col items-center justify-center rounded-lg border-2 p-2.5",children:[E.jsxs("p",{children:["總共刪減",E.jsx("span",{className:"text-brand-accent",children:e.formattedReductionAmount}),"（",E.jsx("span",{className:"text-brand-accent",children:e.reductionCount}),"個提案）",E.jsx(Hn,{tooltipContentType:"reduction"})]}),E.jsxs("p",{children:["凍結",E.jsx("span",{className:"text-brand-accent",children:e.formattedFreezeAmount}),"（",E.jsx("span",{className:"text-brand-accent",children:e.freezeCount}),"個提案）",E.jsx(Hn,{tooltipContentType:"freeze"})]}),E.jsxs("p",{children:["主決議提案數：",E.jsx("span",{className:"text-brand-accent",children:e.mainResolutionCount}),"個",E.jsx(Hn,{tooltipContentType:"mainResolution"})]})]}),Su=[{value:"chocolate",label:"Chocolate"},{value:"strawberry",label:"Strawberry"},{value:"vanilla",label:"Vanilla"}],oo={container:e=>({...e,width:"auto"}),control:e=>({...e,backgroundColor:"#e9808e",borderColor:"#000",borderRadius:8,borderWidth:2,boxShadow:"none",minHeight:28,height:28,minWidth:140,position:"relative",":hover":{borderColor:"#000"}}),valueContainer:e=>({...e,justifyContent:"center",flex:"1 1 auto",padding:"0 28px 0 10px"}),singleValue:e=>({...e,color:"#f6f6f6",fontSize:16,fontWeight:700,margin:0,textAlign:"center",width:"100%"}),placeholder:e=>({...e,color:"#f6f6f6"}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:e=>({...e,color:"#f6f6f6",padding:0,position:"absolute",right:8,":hover":{color:"#f6f6f6"}}),indicatorsContainer:e=>({...e,position:"absolute",right:0,top:0,bottom:0,alignItems:"center"}),menu:e=>({...e,zIndex:20})},Tu=e=>E.jsx(Oa.DropdownIndicator,{...e,children:E.jsx("div",{className:"flex items-center justify-center",children:E.jsx("div",{className:`flex-none transition-transform duration-200 ${e.selectProps.menuIsOpen?"rotate-180":""}`,children:E.jsx("div",{className:"relative size-[12px]",children:E.jsx("div",{className:"absolute bottom-1/4 left-[12.79%] right-[12.79%] top-[8.33%]",children:E.jsx("svg",{className:"block size-full",fill:"none",preserveAspectRatio:"none",viewBox:"0 0 8.93119 8",children:E.jsx("path",{d:"M0.5 2.5L4.4656 6.5L8.4312 2.5H0.5Z",fill:"white"})})})})})})}),io={control:e=>({...e,backgroundColor:"#e9808e",border:"2px solid black",borderRadius:"8px",minHeight:"28px",height:"28px",cursor:"pointer",boxShadow:"none","&:hover":{border:"2px solid black"}}),valueContainer:e=>({...e,padding:"0 10px",height:"24px"}),input:e=>({...e,margin:0,padding:0,color:"#f6f6f6"}),singleValue:e=>({...e,color:"#f6f6f6",fontSize:"16px",fontFamily:"'Noto Sans TC', sans-serif",fontWeight:"bold",margin:0}),indicatorSeparator:()=>({display:"none"}),dropdownIndicator:e=>({...e,padding:"0 4px",color:"white"}),menu:e=>({...e,backgroundColor:"white",border:"2px solid black",borderRadius:"0 0 12px 12px",marginTop:"-2px",overflow:"hidden",paddingTop:"10px",paddingBottom:"10px"}),menuList:e=>({...e,padding:0}),option:(e,t)=>({...e,backgroundColor:t.isSelected||t.isFocused?"#e9808e":"transparent",color:"black",fontSize:"16px",fontFamily:"'Noto Sans TC', sans-serif",fontWeight:"bold",cursor:"pointer",padding:"0 12px",marginBottom:"4px","&:last-child":{marginBottom:0},"&:active":{backgroundColor:"#e9808e"}})},Nu=e=>{if(e==="year-dropdown")return{DropdownIndicator:Tu}},Eu=(e,t)=>e?e==="year-dropdown"?t?{...io,...t}:io:t?{...oo,...t}:oo:t,Cu=A.forwardRef(({variant:e,wrapperClassName:t,styles:n,...r},o)=>{const i=Eu(e,n),s=Nu(e);return E.jsx("div",{className:t??"w-60",children:E.jsx(Ra,{ref:o,options:Su,styles:i,components:s,...r})})});Cu.displayName="VisualizationSelector";const En=e=>qr(Ia,(e==null?void 0:e.proposals)??[]).map(t=>{const n=qr(Pa,t);return{id:n.id,freezeAmount:n.freezeAmount,reductionAmount:n.reductionAmount,proposalTypes:n.proposalTypes,proposers:n.proposers,government:t.government,year:t.year}}),m_=e=>En(e),so=e=>{var r;const t=H.defaultTo(e.freezeAmount,0),n=H.defaultTo(e.reductionAmount,0);return t>0?{proposalType:"freeze",isFrozen:!0}:n>0?{proposalType:"reduce",isFrozen:!1}:(r=e.proposalTypes)!=null&&r.includes(zr.Other)?{proposalType:"main-resolution",isFrozen:!1}:{proposalType:void 0,isFrozen:!1}},g_=["passed","通過"],tt=new Map([["中國國民黨","#6B7FFF"],["民主進步黨","#00CD26"],["親民黨","#FF852E"],["時代力量","#F8E112"],["台灣民眾黨","#4EDEE6"],["台灣基進","#C45822"],["台灣團結聯盟","#B39171"],["新黨","#F3F08C"],["社會民主黨","#BC4CAB"],["無黨團結聯盟","#E5AEAF"],["無黨籍","#D5D5D5"]]),nt="#D5D5D5",Gn={freeze:"凍結",reduce:"刪減",other:"主決議"},an=e=>{const t=Za(e);return t==="無預算金額"?t:`${t.trim()}元`},qt=e=>{if(typeof e!="string")return null;const t=e.trim();return t.length>0?t:null},es=e=>typeof e=="string"&&e.trim().length>0,Ru=(e,t,n=0)=>e!=null&&e.id?e.id:es(e==null?void 0:e.name)?e.name.trim():t?`unknown-${t}`:`unknown-proposer-${n}`,De=(...e)=>e.filter(es).join(`
`),y_=(e,t="amount")=>{const r=En(e).flatMap(s=>{var c;return((c=s.proposers)!=null&&c.length?s.proposers:[null]).map((u,l)=>({proposerKey:Ru(u,s.id,l),proposer:u,proposal:s}))}),o=H.groupBy(r,s=>s.proposerKey??"unknown-proposer"),i=[];return H.forEach(H.entries(o),([s,a])=>{var v,m;const c=a[0],u=(c==null?void 0:c.proposer)??null,l=(u==null?void 0:u.name)??"未知立委",f=qt((v=u==null?void 0:u.party)==null?void 0:v.name),h=((m=u==null?void 0:u.party)==null?void 0:m.color)??(f?tt.get(f):void 0)??nt,d=a.filter(_=>H.defaultTo(_.proposal.freezeAmount,0)>0),y=a.filter(_=>H.defaultTo(_.proposal.reductionAmount,0)>0),p=a.filter(_=>{var k;return(k=_.proposal.proposalTypes)==null?void 0:k.includes(zr.Other)});if(t==="amount"){const _=H.sumBy(d,z=>H.defaultTo(z.proposal.freezeAmount,0)),k=H.sumBy(y,z=>H.defaultTo(z.proposal.reductionAmount,0));_>0&&i.push({id:`${s}-freeze`,name:De(l,f,an(_)),value:Math.pow(_,.45),color:h,proposerId:u==null?void 0:u.id,proposerKey:s,proposalType:"freeze",isFrozen:!0}),k>0&&i.push({id:`${s}-reduce`,name:De(l,f,an(k)),value:Math.pow(k,.45),color:h,proposerId:u==null?void 0:u.id,proposerKey:s,proposalType:"reduce"})}else{const _=d.length,k=y.length,z=p.filter($=>H.defaultTo($.proposal.freezeAmount,0)===0&&H.defaultTo($.proposal.reductionAmount,0)===0).length;_>0&&i.push({id:`${s}-freeze-count`,name:De(l,f,`${_}案`),value:_,color:h,proposerId:u==null?void 0:u.id,proposerKey:s,proposalType:"freeze",isFrozen:!0}),k>0&&i.push({id:`${s}-reduce-count`,name:De(l,f,`${k}案`),value:k,color:h,proposerId:u==null?void 0:u.id,proposerKey:s,proposalType:"reduce"}),z>0&&i.push({id:`${s}-main-resolution-count`,name:De(l,f,`${z}案`),value:z,color:h,proposerId:u==null?void 0:u.id,proposerKey:s,proposalType:"main-resolution"})}}),{"":{id:"legislator-summary-root",name:"root",children:i}}},v_=(e,t="amount")=>{const n=En(e);if(n.length===0)return[];const r=H.mapValues(H.groupBy(n,i=>{var s;return((s=i.year)==null?void 0:s.year)??"未知年度"}),i=>H.groupBy(i,s=>{var a;return((a=s.government)==null?void 0:a.category)??"未知類別"})),o=[];return H.forEach(H.entries(r),([i,s])=>{const a=[];H.forEach(H.entries(s),([c,u])=>{if(t==="amount"){const l=u.filter(d=>(d.freezeAmount??0)>0||(d.reductionAmount??0)>0);if(l.length===0)return;const f=l.map(d=>{var M,B;const{id:y,government:p,freezeAmount:v,reductionAmount:m,proposers:_}=d,k=_==null?void 0:_[0],z=((M=k==null?void 0:k.party)==null?void 0:M.name)??"無黨籍",$=(v??0)+(m??0),T=Math.pow($,.45),j=an($),S=`${y}
${(p==null?void 0:p.name)??"未知部會"}
${j}`,I=((B=k==null?void 0:k.party)==null?void 0:B.color)||tt.get(z)||nt,{proposalType:U,isFrozen:G}=so(d);return{id:y,name:S,value:T,color:I,isFrozen:G,proposalType:U,proposerId:k==null?void 0:k.id,children:[]}}),h=H.sumBy(f,d=>d.value||0);a.push({id:`category-${i}-${c}`,name:c,value:h,color:"#6B7FFF",children:f})}else{const l=H.groupBy(u,d=>{var y;return((y=d.government)==null?void 0:y.name)??"未知部會"}),f=Object.entries(l).map(([d,y])=>{const p=y.map(v=>{var U;const{id:m,government:_,proposers:k}=v,z=k==null?void 0:k[0],$=((U=z==null?void 0:z.party)==null?void 0:U.name)??"無黨籍",T=`${m}
${(_==null?void 0:_.name)??"未知部會"}
1案`,j=tt.get($)||nt,{proposalType:S,isFrozen:I}=so(v);return{id:m,name:T,value:1,color:j,children:[],proposalType:S,isFrozen:I,proposerId:z==null?void 0:z.id}});return{id:`gov-${i}-${c}-${d}`,name:d,value:y.length,children:p,color:"#8884d8"}});if(f.length===0)return;const h=H.sumBy(f,d=>d.value||0);a.push({id:`category-${i}-${c}`,name:c,value:h,color:"#6B7FFF",children:f})}}),a.length!==0&&o.push({id:`session-${i}`,name:`${i}年度`,children:a})}),o.sort((i,s)=>{const a=parseInt(i.id.replace("session-",""),10)||0;return(parseInt(s.id.replace("session-",""),10)||0)-a}),o},__=(e,t)=>{const n=En(e),r=t==="amount"?n.filter(i=>(i.freezeAmount??0)+(i.reductionAmount??0)>0):n,o=H.groupBy(r,i=>{var s;return((s=i.government)==null?void 0:s.name)??"unknown-government-name"});return H.mapValues(o,(i,s)=>{const a=[],c=i.filter(h=>(h.freezeAmount??0)>0),u=i.filter(h=>(h.reductionAmount??0)>0),l=i.filter(h=>{var d;return((d=h.proposalTypes)==null?void 0:d.includes(zr.Other))&&H.defaultTo(h.freezeAmount,0)===0&&H.defaultTo(h.reductionAmount,0)===0}),f=(h,d)=>{if(!d.length)return;const y=H.groupBy(d,p=>{var v,m;return((m=(v=p.proposers)==null?void 0:v[0])==null?void 0:m.id)??"unknown-proposer"});H.forEach(H.entries(y),([p,v])=>{var I,U,G,M;const m=H.defaultTo(H.reduce(v,(B,g)=>B+(g.freezeAmount??0),0),0),_=H.defaultTo(H.reduce(v,(B,g)=>B+(g.reductionAmount??0),0),0);if(m<=0&&_<=0)return;const k=(U=(I=v[0])==null?void 0:I.proposers)==null?void 0:U[0],z=(k==null?void 0:k.name)??"",$=qt((G=k==null?void 0:k.party)==null?void 0:G.name),T=((M=k==null?void 0:k.party)==null?void 0:M.color)??($?tt.get($):void 0)??nt,j=H.defaultTo(h==="freeze"?m:_,0),S=an(j);a.push({id:`proposer-${s}-${p}-${h}`,proposalId:void 0,name:De(z,$,Gn[h],S),value:Math.pow(j,.45),color:T,proposerId:p,proposalType:h,isFrozen:h==="freeze"})})};if(t==="amount")f("freeze",c),f("reduce",u);else{const h=(d,y)=>{if(!y.length)return;const p=H.groupBy(y,v=>{var m,_;return((_=(m=v.proposers)==null?void 0:m[0])==null?void 0:_.id)??"unknown-proposer"});H.forEach(H.entries(p),([v,m])=>{var j,S,I,U;const _=m.length;if(_<=0)return;const k=(S=(j=m[0])==null?void 0:j.proposers)==null?void 0:S[0],z=(k==null?void 0:k.name)??"",$=qt((I=k==null?void 0:k.party)==null?void 0:I.name),T=((U=k==null?void 0:k.party)==null?void 0:U.color)??($?tt.get($):void 0)??nt;a.push({id:`proposer-${s}-${v}-${d}-count`,proposalId:void 0,name:De(z,$,Gn[d],`${_}案`),value:_,color:T,proposerId:v,proposalType:d,isFrozen:d==="freeze"})})};if(h("freeze",c),h("reduce",u),l.length>0){const d=H.groupBy(l,y=>{var p,v;return((v=(p=y.proposers)==null?void 0:p[0])==null?void 0:v.id)??"unknown-proposer"});H.forEach(H.entries(d),([y,p])=>{var $,T,j,S;const v=p.length;if(v<=0)return;const m=(T=($=p[0])==null?void 0:$.proposers)==null?void 0:T[0],_=(m==null?void 0:m.name)??"",k=qt((j=m==null?void 0:m.party)==null?void 0:j.name),z=((S=m==null?void 0:m.party)==null?void 0:S.color)??(k?tt.get(k):void 0)??nt;a.push({id:`proposer-${s}-${y}-main-resolution-count`,proposalId:void 0,name:De(_,k,Gn.other,`${v}案`),value:v,color:z,proposerId:y,proposalType:"main-resolution"})})}}return{id:"root",name:"root",children:a}})},Ou=200;function Mu({visible:e,message:t,autoHideMillis:n=0,onDismiss:r,className:o=""}){const[i,s]=A.useState(e),a=A.useRef(null),c=A.useRef(null);return A.useEffect(()=>{if(e){s(!0),a.current&&(clearTimeout(a.current),a.current=null);return}return a.current=setTimeout(()=>{s(!1),a.current=null},Ou),()=>{a.current&&(clearTimeout(a.current),a.current=null)}},[e]),A.useEffect(()=>{if(!e||n<=0){c.current&&(clearTimeout(c.current),c.current=null);return}return c.current=setTimeout(()=>{c.current=null,r==null||r()},n),()=>{c.current&&(clearTimeout(c.current),c.current=null)}},[e,n,r]),A.useEffect(()=>()=>{a.current&&clearTimeout(a.current),c.current&&clearTimeout(c.current)},[]),i?E.jsx("div",{role:"status","aria-live":"polite","aria-hidden":e?void 0:!0,className:`pointer-events-none absolute inset-0 z-10 flex items-center justify-center bg-black/30 transition-opacity duration-300 ${e?"opacity-100":"opacity-0"} ${o}`,children:E.jsx("div",{className:"rounded-lg bg-white/90 px-6 py-4 shadow-lg backdrop-blur-sm",children:E.jsx("p",{className:"text-lg font-medium text-gray-900 select-none",children:t})})}):null}const Iu=({gestureHintVisible:e,gestureHintMessage:t,onDismissGestureHint:n,onZoomIn:r,onZoomOut:o})=>E.jsxs(E.Fragment,{children:[E.jsx(Mu,{visible:e,message:t,onDismiss:n}),E.jsxs("div",{className:"absolute right-4 bottom-4 flex flex-col gap-2",children:[E.jsx("button",{onClick:r,className:"focus:ring-brand-primary flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md hover:bg-gray-100 focus:ring-2 focus:outline-none","aria-label":"Zoom In",children:E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),E.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),E.jsx("button",{onClick:o,className:"focus:ring-brand-primary flex h-10 w-10 items-center justify-center rounded-full bg-white shadow-md hover:bg-gray-100 focus:ring-2 focus:outline-none","aria-label":"Zoom Out",children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:E.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})})})]})]}),Pu=({containerRef:e,className:t=""})=>E.jsx("div",{ref:e,className:t});function Kt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ts(e){let t,n,r;e.length!==2?(t=Kt,n=(a,c)=>Kt(e(a),c),r=(a,c)=>e(a)-c):(t=e===Kt||e===Zu?e:Du,n=e,r=e);function o(a,c,u=0,l=a.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(a[f],c)<0?u=f+1:l=f}while(u<l)}return u}function i(a,c,u=0,l=a.length){if(u<l){if(t(c,c)!==0)return l;do{const f=u+l>>>1;n(a[f],c)<=0?u=f+1:l=f}while(u<l)}return u}function s(a,c,u=0,l=a.length){const f=o(a,c,u,l-1);return f>u&&r(a[f-1],c)>-r(a[f],c)?f-1:f}return{left:o,center:s,right:i}}function Du(){return 0}function ju(e){return e===null?NaN:+e}const Fu=ts(Kt),Lu=Fu.right;ts(ju).center;const Vu=Math.sqrt(50),Uu=Math.sqrt(10),Bu=Math.sqrt(2);function cn(e,t,n){const r=(t-e)/Math.max(0,n),o=Math.floor(Math.log10(r)),i=r/Math.pow(10,o),s=i>=Vu?10:i>=Uu?5:i>=Bu?2:1;let a,c,u;return o<0?(u=Math.pow(10,-o)/s,a=Math.round(e*u),c=Math.round(t*u),a/u<e&&++a,c/u>t&&--c,u=-u):(u=Math.pow(10,o)*s,a=Math.round(e/u),c=Math.round(t/u),a*u<e&&++a,c*u>t&&--c),c<a&&.5<=n&&n<2?cn(e,t,n*2):[a,c,u]}function Hu(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[o,i,s]=r?cn(t,e,n):cn(e,t,n);if(!(i>=o))return[];const a=i-o+1,c=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)c[u]=(i-u)/-s;else for(let u=0;u<a;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<a;++u)c[u]=(o+u)/-s;else for(let u=0;u<a;++u)c[u]=(o+u)*s;return c}function cr(e,t,n){return t=+t,e=+e,n=+n,cn(e,t,n)[2]}function Gu(e,t,n){t=+t,e=+e,n=+n;const r=t<e,o=r?cr(t,e,n):cr(e,t,n);return(r?-1:1)*(o<0?1/-o:o)}var Wu={value:()=>{}};function Cn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qt(n)}function Qt(e){this._=e}function Yu(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",o=n.indexOf(".");if(o>=0&&(r=n.slice(o+1),n=n.slice(0,o)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qt.prototype=Cn.prototype={constructor:Qt,on:function(e,t){var n=this._,r=Yu(e+"",n),o,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((o=(e=r[i]).type)&&(o=Ju(n[o],e.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<s;)if(o=(e=r[i]).type)n[o]=ao(n[o],e.name,t);else if(t==null)for(o in n)n[o]=ao(n[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qt(e)},call:function(e,t){if((o=arguments.length-2)>0)for(var n=new Array(o),r=0,o,i;r<o;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,o=i.length;r<o;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function Ju(e,t){for(var n=0,r=e.length,o;n<r;++n)if((o=e[n]).name===t)return o.value}function ao(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=Wu,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ur="http://www.w3.org/1999/xhtml";const co={svg:"http://www.w3.org/2000/svg",xhtml:ur,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),co.hasOwnProperty(t)?{space:co[t],local:e}:e}function Xu(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ur&&t.documentElement.namespaceURI===ur?t.createElement(e):t.createElementNS(n,e)}}function qu(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Er(e){var t=Rn(e);return(t.local?qu:Xu)(t)}function Ku(){}function Cr(e){return e==null?Ku:function(){return this.querySelector(e)}}function Qu(e){typeof e!="function"&&(e=Cr(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=new Array(s),c,u,l=0;l<s;++l)(c=i[l])&&(u=e.call(c,c.__data__,l,i))&&("__data__"in c&&(u.__data__=c.__data__),a[l]=u);return new ge(r,this._parents)}function el(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function tl(){return[]}function ns(e){return e==null?tl:function(){return this.querySelectorAll(e)}}function nl(e){return function(){return el(e.apply(this,arguments))}}function rl(e){typeof e=="function"?e=nl(e):e=ns(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s=t[i],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),o.push(c));return new ge(r,o)}function rs(e){return function(){return this.matches(e)}}function os(e){return function(t){return t.matches(e)}}var ol=Array.prototype.find;function il(e){return function(){return ol.call(this.children,e)}}function sl(){return this.firstElementChild}function al(e){return this.select(e==null?sl:il(typeof e=="function"?e:os(e)))}var cl=Array.prototype.filter;function ul(){return Array.from(this.children)}function ll(e){return function(){return cl.call(this.children,e)}}function fl(e){return this.selectAll(e==null?ul:ll(typeof e=="function"?e:os(e)))}function hl(e){typeof e!="function"&&(e=rs(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new ge(r,this._parents)}function is(e){return new Array(e.length)}function dl(){return new ge(this._enter||this._groups.map(is),this._parents)}function un(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}un.prototype={constructor:un,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pl(e){return function(){return e}}function ml(e,t,n,r,o,i){for(var s=0,a,c=t.length,u=i.length;s<u;++s)(a=t[s])?(a.__data__=i[s],r[s]=a):n[s]=new un(e,i[s]);for(;s<c;++s)(a=t[s])&&(o[s]=a)}function gl(e,t,n,r,o,i,s){var a,c,u=new Map,l=t.length,f=i.length,h=new Array(l),d;for(a=0;a<l;++a)(c=t[a])&&(h[a]=d=s.call(c,c.__data__,a,t)+"",u.has(d)?o[a]=c:u.set(d,c));for(a=0;a<f;++a)d=s.call(e,i[a],a,i)+"",(c=u.get(d))?(r[a]=c,c.__data__=i[a],u.delete(d)):n[a]=new un(e,i[a]);for(a=0;a<l;++a)(c=t[a])&&u.get(h[a])===c&&(o[a]=c)}function yl(e){return e.__data__}function vl(e,t){if(!arguments.length)return Array.from(this,yl);var n=t?gl:ml,r=this._parents,o=this._groups;typeof e!="function"&&(e=pl(e));for(var i=o.length,s=new Array(i),a=new Array(i),c=new Array(i),u=0;u<i;++u){var l=r[u],f=o[u],h=f.length,d=_l(e.call(l,l&&l.__data__,u,r)),y=d.length,p=a[u]=new Array(y),v=s[u]=new Array(y),m=c[u]=new Array(h);n(l,f,p,v,m,d,t);for(var _=0,k=0,z,$;_<y;++_)if(z=p[_]){for(_>=k&&(k=_+1);!($=v[k])&&++k<y;);z._next=$||null}}return s=new ge(s,r),s._enter=a,s._exit=c,s}function _l(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wl(){return new ge(this._exit||this._groups.map(is),this._parents)}function bl(e,t,n){var r=this.enter(),o=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(o=t(o),o&&(o=o.selection())),n==null?i.remove():n(i),r&&o?r.merge(o).order():o}function xl(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),c=0;c<s;++c)for(var u=n[c],l=r[c],f=u.length,h=a[c]=new Array(f),d,y=0;y<f;++y)(d=u[y]||l[y])&&(h[y]=d);for(;c<o;++c)a[c]=n[c];return new ge(a,this._parents)}function kl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],o=r.length-1,i=r[o],s;--o>=0;)(s=r[o])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function zl(e){e||(e=Al);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s=n[i],a=s.length,c=o[i]=new Array(a),u,l=0;l<a;++l)(u=s[l])&&(c[l]=u);c.sort(t)}return new ge(o,this._parents).order()}function Al(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function $l(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sl(){return Array.from(this)}function Tl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null}function Nl(){let e=0;for(const t of this)++e;return e}function El(){return!this.node()}function Cl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o=t[n],i=0,s=o.length,a;i<s;++i)(a=o[i])&&e.call(a,a.__data__,i,o);return this}function Rl(e){return function(){this.removeAttribute(e)}}function Ol(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ml(e,t){return function(){this.setAttribute(e,t)}}function Il(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Pl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Zl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dl(e,t){var n=Rn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Ol:Rl:typeof t=="function"?n.local?Zl:Pl:n.local?Il:Ml)(n,t))}function ss(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jl(e){return function(){this.style.removeProperty(e)}}function Fl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ll(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Vl(e,t,n){return arguments.length>1?this.each((t==null?jl:typeof t=="function"?Ll:Fl)(e,t,n??"")):at(this.node(),e)}function at(e,t){return e.style.getPropertyValue(t)||ss(e).getComputedStyle(e,null).getPropertyValue(t)}function Ul(e){return function(){delete this[e]}}function Bl(e,t){return function(){this[e]=t}}function Hl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Gl(e,t){return arguments.length>1?this.each((t==null?Ul:typeof t=="function"?Hl:Bl)(e,t)):this.node()[e]}function as(e){return e.trim().split(/^|\s+/)}function Rr(e){return e.classList||new cs(e)}function cs(e){this._node=e,this._names=as(e.getAttribute("class")||"")}cs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function us(e,t){for(var n=Rr(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function ls(e,t){for(var n=Rr(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function Wl(e){return function(){us(this,e)}}function Yl(e){return function(){ls(this,e)}}function Jl(e,t){return function(){(t.apply(this,arguments)?us:ls)(this,e)}}function Xl(e,t){var n=as(e+"");if(arguments.length<2){for(var r=Rr(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each((typeof t=="function"?Jl:t?Wl:Yl)(n,t))}function ql(){this.textContent=""}function Kl(e){return function(){this.textContent=e}}function Ql(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ef(e){return arguments.length?this.each(e==null?ql:(typeof e=="function"?Ql:Kl)(e)):this.node().textContent}function tf(){this.innerHTML=""}function nf(e){return function(){this.innerHTML=e}}function rf(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function of(e){return arguments.length?this.each(e==null?tf:(typeof e=="function"?rf:nf)(e)):this.node().innerHTML}function sf(){this.nextSibling&&this.parentNode.appendChild(this)}function af(){return this.each(sf)}function cf(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function uf(){return this.each(cf)}function lf(e){var t=typeof e=="function"?e:Er(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function ff(){return null}function hf(e,t){var n=typeof e=="function"?e:Er(e),r=t==null?ff:typeof t=="function"?t:Cr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function df(){var e=this.parentNode;e&&e.removeChild(this)}function pf(){return this.each(df)}function mf(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gf(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yf(e){return this.select(e?gf:mf)}function vf(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _f(e){return function(t){e.call(this,t,this.__data__)}}function wf(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function bf(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,o=t.length,i;n<o;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function xf(e,t,n){return function(){var r=this.__on,o,i=_f(t);if(r){for(var s=0,a=r.length;s<a;++s)if((o=r[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),o.value=t;return}}this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function kf(e,t,n){var r=wf(e+""),o,i=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,l;c<u;++c)for(o=0,l=a[c];o<i;++o)if((s=r[o]).type===l.type&&s.name===l.name)return l.value}return}for(a=t?xf:bf,o=0;o<i;++o)this.each(a(r[o],t,n));return this}function fs(e,t,n){var r=ss(e),o=r.CustomEvent;typeof o=="function"?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function zf(e,t){return function(){return fs(this,e,t)}}function Af(e,t){return function(){return fs(this,e,t.apply(this,arguments))}}function $f(e,t){return this.each((typeof t=="function"?Af:zf)(e,t))}function*Sf(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length,s;o<i;++o)(s=r[o])&&(yield s)}var hs=[null];function ge(e,t){this._groups=e,this._parents=t}function Ct(){return new ge([[document.documentElement]],hs)}function Tf(){return this}ge.prototype=Ct.prototype={constructor:ge,select:Qu,selectAll:rl,selectChild:al,selectChildren:fl,filter:hl,data:vl,enter:dl,exit:wl,join:bl,merge:xl,selection:Tf,order:kl,sort:zl,call:$l,nodes:Sl,node:Tl,size:Nl,empty:El,each:Cl,attr:Dl,style:Vl,property:Gl,classed:Xl,text:ef,html:of,raise:af,lower:uf,append:lf,insert:hf,remove:pf,clone:yf,datum:vf,on:kf,dispatch:$f,[Symbol.iterator]:Sf};function we(e){return typeof e=="string"?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],hs)}function Nf(e){return we(Er(e).call(document.documentElement))}function Ef(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ve(e,t){if(e=Ef(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const lr={capture:!0,passive:!1};function fr(e){e.preventDefault(),e.stopImmediatePropagation()}function Cf(e){var t=e.document.documentElement,n=we(e).on("dragstart.drag",fr,lr);"onselectstart"in t?n.on("selectstart.drag",fr,lr):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Rf(e,t){var n=e.document.documentElement,r=we(e).on("dragstart.drag",null);t&&(r.on("click.drag",fr,lr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Rt(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function On(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Je(){}var kt=.7,ln=1/kt,rt="\\s*([+-]?\\d+)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$e="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Of=/^#([0-9a-f]{3,8})$/,Mf=new RegExp(`^rgb\\(${rt},${rt},${rt}\\)$`),If=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),Pf=new RegExp(`^rgba\\(${rt},${rt},${rt},${zt}\\)$`),Zf=new RegExp(`^rgba\\(${$e},${$e},${$e},${zt}\\)$`),Df=new RegExp(`^hsl\\(${zt},${$e},${$e}\\)$`),jf=new RegExp(`^hsla\\(${zt},${$e},${$e},${zt}\\)$`),uo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Rt(Je,He,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lo,formatHex:lo,formatHex8:Ff,formatHsl:Lf,formatRgb:fo,toString:fo});function lo(){return this.rgb().formatHex()}function Ff(){return this.rgb().formatHex8()}function Lf(){return ps(this).formatHsl()}function fo(){return this.rgb().formatRgb()}function He(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Of.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ho(t):n===3?new le(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?jt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?jt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mf.exec(e))?new le(t[1],t[2],t[3],1):(t=If.exec(e))?new le(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Pf.exec(e))?jt(t[1],t[2],t[3],t[4]):(t=Zf.exec(e))?jt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Df.exec(e))?go(t[1],t[2]/100,t[3]/100,1):(t=jf.exec(e))?go(t[1],t[2]/100,t[3]/100,t[4]):uo.hasOwnProperty(e)?ho(uo[e]):e==="transparent"?new le(NaN,NaN,NaN,0):null}function ho(e){return new le(e>>16&255,e>>8&255,e&255,1)}function jt(e,t,n,r){return r<=0&&(e=t=n=NaN),new le(e,t,n,r)}function ds(e){return e instanceof Je||(e=He(e)),e?(e=e.rgb(),new le(e.r,e.g,e.b,e.opacity)):new le}function hr(e,t,n,r){return arguments.length===1?ds(e):new le(e,t,n,r??1)}function le(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Rt(le,hr,On(Je,{brighter(e){return e=e==null?ln:Math.pow(ln,e),new le(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kt:Math.pow(kt,e),new le(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new le(Be(this.r),Be(this.g),Be(this.b),fn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:po,formatHex:po,formatHex8:Vf,formatRgb:mo,toString:mo}));function po(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}`}function Vf(){return`#${Ue(this.r)}${Ue(this.g)}${Ue(this.b)}${Ue((isNaN(this.opacity)?1:this.opacity)*255)}`}function mo(){const e=fn(this.opacity);return`${e===1?"rgb(":"rgba("}${Be(this.r)}, ${Be(this.g)}, ${Be(this.b)}${e===1?")":`, ${e})`}`}function fn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Be(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ue(e){return e=Be(e),(e<16?"0":"")+e.toString(16)}function go(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new be(e,t,n,r)}function ps(e){if(e instanceof be)return new be(e.h,e.s,e.l,e.opacity);if(e instanceof Je||(e=He(e)),!e)return new be;if(e instanceof be)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,c=(i+o)/2;return a?(t===i?s=(n-r)/a+(n<r)*6:n===i?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?i+o:2-i-o,s*=60):a=c>0&&c<1?0:s,new be(s,a,c,e.opacity)}function Uf(e,t,n,r){return arguments.length===1?ps(e):new be(e,t,n,r??1)}function be(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Rt(be,Uf,On(Je,{brighter(e){return e=e==null?ln:Math.pow(ln,e),new be(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kt:Math.pow(kt,e),new be(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new le(Wn(e>=240?e-240:e+120,o,r),Wn(e,o,r),Wn(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new be(yo(this.h),Ft(this.s),Ft(this.l),fn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=fn(this.opacity);return`${e===1?"hsl(":"hsla("}${yo(this.h)}, ${Ft(this.s)*100}%, ${Ft(this.l)*100}%${e===1?")":`, ${e})`}`}}));function yo(e){return e=(e||0)%360,e<0?e+360:e}function Ft(e){return Math.max(0,Math.min(1,e||0))}function Wn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bf=Math.PI/180,Hf=180/Math.PI,hn=18,ms=.96422,gs=1,ys=.82521,vs=4/29,ot=6/29,_s=3*ot*ot,Gf=ot*ot*ot;function ws(e){if(e instanceof Se)return new Se(e.l,e.a,e.b,e.opacity);if(e instanceof Re)return bs(e);e instanceof le||(e=ds(e));var t=qn(e.r),n=qn(e.g),r=qn(e.b),o=Yn((.2225045*t+.7168786*n+.0606169*r)/gs),i,s;return t===n&&n===r?i=s=o:(i=Yn((.4360747*t+.3850649*n+.1430804*r)/ms),s=Yn((.0139322*t+.0971045*n+.7141733*r)/ys)),new Se(116*o-16,500*(i-o),200*(o-s),e.opacity)}function Wf(e,t,n,r){return arguments.length===1?ws(e):new Se(e,t,n,r??1)}function Se(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Rt(Se,Wf,On(Je,{brighter(e){return new Se(this.l+hn*(e??1),this.a,this.b,this.opacity)},darker(e){return new Se(this.l-hn*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=ms*Jn(t),e=gs*Jn(e),n=ys*Jn(n),new le(Xn(3.1338561*t-1.6168667*e-.4906146*n),Xn(-.9787684*t+1.9161415*e+.033454*n),Xn(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function Yn(e){return e>Gf?Math.pow(e,1/3):e/_s+vs}function Jn(e){return e>ot?e*e*e:_s*(e-vs)}function Xn(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qn(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Yf(e){if(e instanceof Re)return new Re(e.h,e.c,e.l,e.opacity);if(e instanceof Se||(e=ws(e)),e.a===0&&e.b===0)return new Re(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Hf;return new Re(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function dr(e,t,n,r){return arguments.length===1?Yf(e):new Re(e,t,n,r??1)}function Re(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function bs(e){if(isNaN(e.h))return new Se(e.l,0,0,e.opacity);var t=e.h*Bf;return new Se(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Rt(Re,dr,On(Je,{brighter(e){return new Re(this.h,this.c,this.l+hn*(e??1),this.opacity)},darker(e){return new Re(this.h,this.c,this.l-hn*(e??1),this.opacity)},rgb(){return bs(this).rgb()}}));const Mn=e=>()=>e;function xs(e,t){return function(n){return e+n*t}}function Jf(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Xf(e,t){var n=t-e;return n?xs(e,n>180||n<-180?n-360*Math.round(n/360):n):Mn(isNaN(e)?t:e)}function qf(e){return(e=+e)==1?bt:function(t,n){return n-t?Jf(t,n,e):Mn(isNaN(t)?n:t)}}function bt(e,t){var n=t-e;return n?xs(e,n):Mn(isNaN(e)?t:e)}const dn=(function e(t){var n=qf(t);function r(o,i){var s=n((o=hr(o)).r,(i=hr(i)).r),a=n(o.g,i.g),c=n(o.b,i.b),u=bt(o.opacity,i.opacity);return function(l){return o.r=s(l),o.g=a(l),o.b=c(l),o.opacity=u(l),o+""}}return r.gamma=e,r})(1);function Kf(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),o;return function(i){for(o=0;o<n;++o)r[o]=e[o]*(1-i)+t[o]*i;return r}}function Qf(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eh(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,o=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)o[s]=Or(e[s],t[s]);for(;s<n;++s)i[s]=t[s];return function(a){for(s=0;s<r;++s)i[s]=o[s](a);return i}}function th(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function _e(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function nh(e,t){var n={},r={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?n[o]=Or(e[o],t[o]):r[o]=t[o];return function(i){for(o in n)r[o]=n[o](i);return r}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Kn=new RegExp(pr.source,"g");function rh(e){return function(){return e}}function oh(e){return function(t){return e(t)+""}}function ks(e,t){var n=pr.lastIndex=Kn.lastIndex=0,r,o,i,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=pr.exec(e))&&(o=Kn.exec(t));)(i=o.index)>n&&(i=t.slice(n,i),a[s]?a[s]+=i:a[++s]=i),(r=r[0])===(o=o[0])?a[s]?a[s]+=o:a[++s]=o:(a[++s]=null,c.push({i:s,x:_e(r,o)})),n=Kn.lastIndex;return n<t.length&&(i=t.slice(n),a[s]?a[s]+=i:a[++s]=i),a.length<2?c[0]?oh(c[0].x):rh(t):(t=c.length,function(u){for(var l=0,f;l<t;++l)a[(f=c[l]).i]=f.x(u);return a.join("")})}function Or(e,t){var n=typeof t,r;return t==null||n==="boolean"?Mn(t):(n==="number"?_e:n==="string"?(r=He(t))?(t=r,dn):ks:t instanceof He?dn:t instanceof Date?th:Qf(t)?Kf:Array.isArray(t)?eh:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?nh:_e)(e,t)}function ih(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var vo=180/Math.PI,mr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zs(e,t,n,r,o,i){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*vo,skewX:Math.atan(c)*vo,scaleX:s,scaleY:a}}var Lt;function sh(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mr:zs(t.a,t.b,t.c,t.d,t.e,t.f)}function ah(e){return e==null||(Lt||(Lt=document.createElementNS("http://www.w3.org/2000/svg","g")),Lt.setAttribute("transform",e),!(e=Lt.transform.baseVal.consolidate()))?mr:(e=e.matrix,zs(e.a,e.b,e.c,e.d,e.e,e.f))}function As(e,t,n,r){function o(u){return u.length?u.pop()+" ":""}function i(u,l,f,h,d,y){if(u!==f||l!==h){var p=d.push("translate(",null,t,null,n);y.push({i:p-4,x:_e(u,f)},{i:p-2,x:_e(l,h)})}else(f||h)&&d.push("translate("+f+t+h+n)}function s(u,l,f,h){u!==l?(u-l>180?l+=360:l-u>180&&(u+=360),h.push({i:f.push(o(f)+"rotate(",null,r)-2,x:_e(u,l)})):l&&f.push(o(f)+"rotate("+l+r)}function a(u,l,f,h){u!==l?h.push({i:f.push(o(f)+"skewX(",null,r)-2,x:_e(u,l)}):l&&f.push(o(f)+"skewX("+l+r)}function c(u,l,f,h,d,y){if(u!==f||l!==h){var p=d.push(o(d)+"scale(",null,",",null,")");y.push({i:p-4,x:_e(u,f)},{i:p-2,x:_e(l,h)})}else(f!==1||h!==1)&&d.push(o(d)+"scale("+f+","+h+")")}return function(u,l){var f=[],h=[];return u=e(u),l=e(l),i(u.translateX,u.translateY,l.translateX,l.translateY,f,h),s(u.rotate,l.rotate,f,h),a(u.skewX,l.skewX,f,h),c(u.scaleX,u.scaleY,l.scaleX,l.scaleY,f,h),u=l=null,function(d){for(var y=-1,p=h.length,v;++y<p;)f[(v=h[y]).i]=v.x(d);return f.join("")}}}var ch=As(sh,"px, ","px)","deg)"),uh=As(ah,", ",")",")"),lh=1e-12;function _o(e){return((e=Math.exp(e))+1/e)/2}function fh(e){return((e=Math.exp(e))-1/e)/2}function hh(e){return((e=Math.exp(2*e))-1)/(e+1)}const dh=(function e(t,n,r){function o(i,s){var a=i[0],c=i[1],u=i[2],l=s[0],f=s[1],h=s[2],d=l-a,y=f-c,p=d*d+y*y,v,m;if(p<lh)m=Math.log(h/u)/t,v=function(j){return[a+j*d,c+j*y,u*Math.exp(t*j*m)]};else{var _=Math.sqrt(p),k=(h*h-u*u+r*p)/(2*u*n*_),z=(h*h-u*u-r*p)/(2*h*n*_),$=Math.log(Math.sqrt(k*k+1)-k),T=Math.log(Math.sqrt(z*z+1)-z);m=(T-$)/t,v=function(j){var S=j*m,I=_o($),U=u/(n*_)*(I*hh(t*S+$)-fh($));return[a+U*d,c+U*y,u*I/_o(t*S+$)]}}return v.duration=m*1e3*t/Math.SQRT2,v}return o.rho=function(i){var s=Math.max(.001,+i),a=s*s,c=a*a;return e(s,a,c)},o})(Math.SQRT2,2,4);function ph(e){return function(t,n){var r=e((t=dr(t)).h,(n=dr(n)).h),o=bt(t.c,n.c),i=bt(t.l,n.l),s=bt(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=o(a),t.l=i(a),t.opacity=s(a),t+""}}}const wo=ph(Xf);var ct=0,yt=0,mt=0,$s=1e3,pn,vt,mn=0,Ge=0,In=0,At=typeof performance=="object"&&performance.now?performance:Date,Ss=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Mr(){return Ge||(Ss(mh),Ge=At.now()+In)}function mh(){Ge=0}function gn(){this._call=this._time=this._next=null}gn.prototype=Ir.prototype={constructor:gn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Mr():+n)+(t==null?0:+t),!this._next&&vt!==this&&(vt?vt._next=this:pn=this,vt=this),this._call=e,this._time=n,gr()},stop:function(){this._call&&(this._call=null,this._time=1/0,gr())}};function Ir(e,t,n){var r=new gn;return r.restart(e,t,n),r}function gh(){Mr(),++ct;for(var e=pn,t;e;)(t=Ge-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ct}function bo(){Ge=(mn=At.now())+In,ct=yt=0;try{gh()}finally{ct=0,vh(),Ge=0}}function yh(){var e=At.now(),t=e-mn;t>$s&&(In-=t,mn=e)}function vh(){for(var e,t=pn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:pn=n);vt=e,gr(r)}function gr(e){if(!ct){yt&&(yt=clearTimeout(yt));var t=e-Ge;t>24?(e<1/0&&(yt=setTimeout(bo,e-At.now()-In)),mt&&(mt=clearInterval(mt))):(mt||(mn=At.now(),mt=setInterval(yh,$s)),ct=1,Ss(bo))}}function xo(e,t,n){var r=new gn;return t=t==null?0:+t,r.restart(o=>{r.stop(),e(o+t)},t,n),r}var _h=Cn("start","end","cancel","interrupt"),wh=[],Ts=0,ko=1,yr=2,en=3,zo=4,vr=5,tn=6;function Pn(e,t,n,r,o,i){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;bh(e,n,{name:t,index:r,group:o,on:_h,tween:wh,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ts})}function Pr(e,t){var n=ke(e,t);if(n.state>Ts)throw new Error("too late; already scheduled");return n}function Te(e,t){var n=ke(e,t);if(n.state>en)throw new Error("too late; already running");return n}function ke(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function bh(e,t,n){var r=e.__transition,o;r[t]=n,n.timer=Ir(i,0,n.time);function i(u){n.state=ko,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var l,f,h,d;if(n.state!==ko)return c();for(l in r)if(d=r[l],d.name===n.name){if(d.state===en)return xo(s);d.state===zo?(d.state=tn,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete r[l]):+l<t&&(d.state=tn,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete r[l])}if(xo(function(){n.state===en&&(n.state=zo,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=yr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===yr){for(n.state=en,o=new Array(h=n.tween.length),l=0,f=-1;l<h;++l)(d=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(o[++f]=d);o.length=f+1}}function a(u){for(var l=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=vr,1),f=-1,h=o.length;++f<h;)o[f].call(e,l);n.state===vr&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=tn,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function nn(e,t){var n=e.__transition,r,o,i=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){i=!1;continue}o=r.state>yr&&r.state<vr,r.state=tn,r.timer.stop(),r.on.call(o?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}i&&delete e.__transition}}function xh(e){return this.each(function(){nn(this,e)})}function kh(e,t){var n,r;return function(){var o=Te(this,e),i=o.tween;if(i!==n){r=n=i;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}o.tween=r}}function zh(e,t,n){var r,o;if(typeof n!="function")throw new Error;return function(){var i=Te(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},c=0,u=o.length;c<u;++c)if(o[c].name===t){o[c]=a;break}c===u&&o.push(a)}i.tween=o}}function Ah(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ke(this.node(),n).tween,o=0,i=r.length,s;o<i;++o)if((s=r[o]).name===e)return s.value;return null}return this.each((t==null?kh:zh)(n,e,t))}function Zr(e,t,n){var r=e._id;return e.each(function(){var o=Te(this,r);(o.value||(o.value={}))[t]=n.apply(this,arguments)}),function(o){return ke(o,r).value[t]}}function Ns(e,t){var n;return(typeof t=="number"?_e:t instanceof He?dn:(n=He(t))?(t=n,dn):ks)(e,t)}function $h(e){return function(){this.removeAttribute(e)}}function Sh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Th(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Nh(e,t,n){var r,o=n+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Eh(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function Ch(e,t,n){var r,o,i;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a)))}}function Rh(e,t){var n=Rn(e),r=n==="transform"?uh:Ns;return this.attrTween(e,typeof t=="function"?(n.local?Ch:Eh)(n,r,Zr(this,"attr."+e,t)):t==null?(n.local?Sh:$h)(n):(n.local?Nh:Th)(n,r,t))}function Oh(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Mh(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ih(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Mh(e,i)),n}return o._value=t,o}function Ph(e,t){var n,r;function o(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&Oh(e,i)),n}return o._value=t,o}function Zh(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Rn(e);return this.tween(n,(r.local?Ih:Ph)(r,t))}function Dh(e,t){return function(){Pr(this,e).delay=+t.apply(this,arguments)}}function jh(e,t){return t=+t,function(){Pr(this,e).delay=t}}function Fh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Dh:jh)(t,e)):ke(this.node(),t).delay}function Lh(e,t){return function(){Te(this,e).duration=+t.apply(this,arguments)}}function Vh(e,t){return t=+t,function(){Te(this,e).duration=t}}function Uh(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Lh:Vh)(t,e)):ke(this.node(),t).duration}function Bh(e,t){if(typeof t!="function")throw new Error;return function(){Te(this,e).ease=t}}function Hh(e){var t=this._id;return arguments.length?this.each(Bh(t,e)):ke(this.node(),t).ease}function Gh(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Te(this,e).ease=n}}function Wh(e){if(typeof e!="function")throw new Error;return this.each(Gh(this._id,e))}function Yh(e){typeof e!="function"&&(e=rs(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i=t[o],s=i.length,a=r[o]=[],c,u=0;u<s;++u)(c=i[u])&&e.call(c,c.__data__,u,i)&&a.push(c);return new Me(r,this._parents,this._name,this._id)}function Jh(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var c=t[a],u=n[a],l=c.length,f=s[a]=new Array(l),h,d=0;d<l;++d)(h=c[d]||u[d])&&(f[d]=h);for(;a<r;++a)s[a]=t[a];return new Me(s,this._parents,this._name,this._id)}function Xh(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qh(e,t,n){var r,o,i=Xh(t)?Pr:Te;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}function Kh(e,t){var n=this._id;return arguments.length<2?ke(this.node(),n).on.on(e):this.each(qh(n,e,t))}function Qh(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ed(){return this.on("end.remove",Qh(this._id))}function td(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Cr(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a=r[s],c=a.length,u=i[s]=new Array(c),l,f,h=0;h<c;++h)(l=a[h])&&(f=e.call(l,l.__data__,h,a))&&("__data__"in l&&(f.__data__=l.__data__),u[h]=f,Pn(u[h],t,n,h,u,ke(l,n)));return new Me(i,this._parents,t,n)}function nd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ns(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var c=r[a],u=c.length,l,f=0;f<u;++f)if(l=c[f]){for(var h=e.call(l,l.__data__,f,c),d,y=ke(l,n),p=0,v=h.length;p<v;++p)(d=h[p])&&Pn(d,t,n,p,h,y);i.push(h),s.push(l)}return new Me(i,s,t,n)}var rd=Ct.prototype.constructor;function od(){return new rd(this._groups,this._parents)}function id(e,t){var n,r,o;return function(){var i=at(this,e),s=(this.style.removeProperty(e),at(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}function Es(e){return function(){this.style.removeProperty(e)}}function sd(e,t,n){var r,o=n+"",i;return function(){var s=at(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}function ad(e,t,n){var r,o,i;return function(){var s=at(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),at(this,e))),s===c?null:s===r&&c===o?i:(o=c,i=t(r=s,a))}}function cd(e,t){var n,r,o,i="style."+t,s="end."+i,a;return function(){var c=Te(this,e),u=c.on,l=c.value[i]==null?a||(a=Es(t)):void 0;(u!==n||o!==l)&&(r=(n=u).copy()).on(s,o=l),c.on=r}}function ud(e,t,n){var r=(e+="")=="transform"?ch:Ns;return t==null?this.styleTween(e,id(e,r)).on("end.style."+e,Es(e)):typeof t=="function"?this.styleTween(e,ad(e,r,Zr(this,"style."+e,t))).each(cd(this._id,e)):this.styleTween(e,sd(e,r,t),n).on("end.style."+e,null)}function ld(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function fd(e,t,n){var r,o;function i(){var s=t.apply(this,arguments);return s!==o&&(r=(o=s)&&ld(e,s,n)),r}return i._value=t,i}function hd(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,fd(e,t,n??""))}function dd(e){return function(){this.textContent=e}}function pd(e){return function(){var t=e(this);this.textContent=t??""}}function md(e){return this.tween("text",typeof e=="function"?pd(Zr(this,"text",e)):dd(e==null?"":e+""))}function gd(e){return function(t){this.textContent=e.call(this,t)}}function yd(e){var t,n;function r(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&gd(o)),t}return r._value=e,r}function vd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yd(e))}function _d(){for(var e=this._name,t=this._id,n=Cs(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var l=ke(c,t);Pn(c,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Me(r,this._parents,e,n)}function wd(){var e,t,n=this,r=n._id,o=n.size();return new Promise(function(i,s){var a={value:s},c={value:function(){--o===0&&i()}};n.each(function(){var u=Te(this,r),l=u.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),o===0&&i()})}var bd=0;function Me(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Cs(){return++bd}var Ce=Ct.prototype;Me.prototype={constructor:Me,select:td,selectAll:nd,selectChild:Ce.selectChild,selectChildren:Ce.selectChildren,filter:Yh,merge:Jh,selection:od,transition:_d,call:Ce.call,nodes:Ce.nodes,node:Ce.node,size:Ce.size,empty:Ce.empty,each:Ce.each,on:Kh,attr:Rh,attrTween:Zh,style:ud,styleTween:hd,text:md,textTween:vd,remove:ed,tween:Ah,delay:Fh,duration:Uh,ease:Hh,easeVarying:Wh,end:wd,[Symbol.iterator]:Ce[Symbol.iterator]};function Rs(e){return--e*e*e+1}function xd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var kd={time:null,delay:0,duration:250,ease:xd};function zd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ad(e){var t,n;e instanceof Me?(t=e._id,e=e._name):(t=Cs(),(n=kd).time=Mr(),e=e==null?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s=r[i],a=s.length,c,u=0;u<a;++u)(c=s[u])&&Pn(c,e,t,u,s,n||zd(c,t));return new Me(r,this._parents,e,t)}Ct.prototype.interrupt=xh;Ct.prototype.transition=Ad;function $d(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return Os(this.cover(t,n),t,n,e)}function Os(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var o,i=e._root,s={data:r},a=e._x0,c=e._y0,u=e._x1,l=e._y1,f,h,d,y,p,v,m,_;if(!i)return e._root=s,e;for(;i.length;)if((p=t>=(f=(a+u)/2))?a=f:u=f,(v=n>=(h=(c+l)/2))?c=h:l=h,o=i,!(i=i[m=v<<1|p]))return o[m]=s,e;if(d=+e._x.call(null,i.data),y=+e._y.call(null,i.data),t===d&&n===y)return s.next=i,o?o[m]=s:e._root=s,e;do o=o?o[m]=new Array(4):e._root=new Array(4),(p=t>=(f=(a+u)/2))?a=f:u=f,(v=n>=(h=(c+l)/2))?c=h:l=h;while((m=v<<1|p)===(_=(y>=h)<<1|d>=f));return o[_]=i,o[m]=s,e}function Sd(e){var t,n,r=e.length,o,i,s=new Array(r),a=new Array(r),c=1/0,u=1/0,l=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(o=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=o,a[n]=i,o<c&&(c=o),o>l&&(l=o),i<u&&(u=i),i>f&&(f=i));if(c>l||u>f)return this;for(this.cover(c,u).cover(l,f),n=0;n<r;++n)Os(this,s[n],a[n],e[n]);return this}function Td(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,i=(r=Math.floor(t))+1;else{for(var s=o-n||1,a=this._root,c,u;n>e||e>=o||r>t||t>=i;)switch(u=(t<r)<<1|e<n,c=new Array(4),c[u]=a,a=c,s*=2,u){case 0:o=n+s,i=r+s;break;case 1:n=o-s,i=r+s;break;case 2:o=n+s,r=i-s;break;case 3:n=o-s,r=i-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this}function Nd(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Ed(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function de(e,t,n,r,o){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=o}function Cd(e,t,n){var r,o=this._x0,i=this._y0,s,a,c,u,l=this._x1,f=this._y1,h=[],d=this._root,y,p;for(d&&h.push(new de(d,o,i,l,f)),n==null?n=1/0:(o=e-n,i=t-n,l=e+n,f=t+n,n*=n);y=h.pop();)if(!(!(d=y.node)||(s=y.x0)>l||(a=y.y0)>f||(c=y.x1)<o||(u=y.y1)<i))if(d.length){var v=(s+c)/2,m=(a+u)/2;h.push(new de(d[3],v,m,c,u),new de(d[2],s,m,v,u),new de(d[1],v,a,c,m),new de(d[0],s,a,v,m)),(p=(t>=m)<<1|e>=v)&&(y=h[h.length-1],h[h.length-1]=h[h.length-1-p],h[h.length-1-p]=y)}else{var _=e-+this._x.call(null,d.data),k=t-+this._y.call(null,d.data),z=_*_+k*k;if(z<n){var $=Math.sqrt(n=z);o=e-$,i=t-$,l=e+$,f=t+$,r=d.data}}return r}function Rd(e){if(isNaN(l=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,o,i,s=this._x0,a=this._y0,c=this._x1,u=this._y1,l,f,h,d,y,p,v,m;if(!n)return this;if(n.length)for(;;){if((y=l>=(h=(s+c)/2))?s=h:c=h,(p=f>=(d=(a+u)/2))?a=d:u=d,t=n,!(n=n[v=p<<1|y]))return this;if(!n.length)break;(t[v+1&3]||t[v+2&3]||t[v+3&3])&&(r=t,m=v)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(i=n.next)&&delete n.next,o?(i?o.next=i:delete o.next,this):t?(i?t[v]=i:delete t[v],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[m]=n:this._root=n),this):(this._root=i,this)}function Od(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function Md(){return this._root}function Id(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function Pd(e){var t=[],n,r=this._root,o,i,s,a,c;for(r&&t.push(new de(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,i=n.x0,s=n.y0,a=n.x1,c=n.y1)&&r.length){var u=(i+a)/2,l=(s+c)/2;(o=r[3])&&t.push(new de(o,u,l,a,c)),(o=r[2])&&t.push(new de(o,i,l,u,c)),(o=r[1])&&t.push(new de(o,u,s,a,l)),(o=r[0])&&t.push(new de(o,i,s,u,l))}return this}function Zd(e){var t=[],n=[],r;for(this._root&&t.push(new de(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var o=r.node;if(o.length){var i,s=r.x0,a=r.y0,c=r.x1,u=r.y1,l=(s+c)/2,f=(a+u)/2;(i=o[0])&&t.push(new de(i,s,a,l,f)),(i=o[1])&&t.push(new de(i,l,a,c,f)),(i=o[2])&&t.push(new de(i,s,f,l,u)),(i=o[3])&&t.push(new de(i,l,f,c,u))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Dd(e){return e[0]}function jd(e){return arguments.length?(this._x=e,this):this._x}function Fd(e){return e[1]}function Ld(e){return arguments.length?(this._y=e,this):this._y}function Ms(e,t,n){var r=new Dr(t??Dd,n??Fd,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Dr(e,t,n,r,o,i){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function Ao(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var pe=Ms.prototype=Dr.prototype;pe.copy=function(){var e=new Dr(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Ao(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(r=t.source[o])&&(r.length?n.push({source:r,target:t.target[o]=new Array(4)}):t.target[o]=Ao(r));return e};pe.add=$d;pe.addAll=Sd;pe.cover=Td;pe.data=Nd;pe.extent=Ed;pe.find=Cd;pe.remove=Rd;pe.removeAll=Od;pe.root=Md;pe.size=Id;pe.visit=Pd;pe.visitAfter=Zd;pe.x=jd;pe.y=Ld;function Ae(e){return function(){return e}}function $o(e){return(e()-.5)*1e-6}function Vd(e){return e.x+e.vx}function Ud(e){return e.y+e.vy}function Bd(e){var t,n,r,o=1,i=1;typeof e!="function"&&(e=Ae(e==null?1:+e));function s(){for(var u,l=t.length,f,h,d,y,p,v,m=0;m<i;++m)for(f=Ms(t,Vd,Ud).visitAfter(a),u=0;u<l;++u)h=t[u],p=n[h.index],v=p*p,d=h.x+h.vx,y=h.y+h.vy,f.visit(_);function _(k,z,$,T,j){var S=k.data,I=k.r,U=p+I;if(S){if(S.index>h.index){var G=d-S.x-S.vx,M=y-S.y-S.vy,B=G*G+M*M;B<U*U&&(G===0&&(G=$o(r),B+=G*G),M===0&&(M=$o(r),B+=M*M),B=(U-(B=Math.sqrt(B)))/B*o,h.vx+=(G*=B)*(U=(I*=I)/(v+I)),h.vy+=(M*=B)*U,S.vx-=G*(U=1-U),S.vy-=M*U)}return}return z>d+U||T<d-U||$>y+U||j<y-U}}function a(u){if(u.data)return u.r=n[u.data.index];for(var l=u.r=0;l<4;++l)u[l]&&u[l].r>u.r&&(u.r=u[l].r)}function c(){if(t){var u,l=t.length,f;for(n=new Array(l),u=0;u<l;++u)f=t[u],n[f.index]=+e(f,u,t)}}return s.initialize=function(u,l){t=u,r=l,c()},s.iterations=function(u){return arguments.length?(i=+u,s):i},s.strength=function(u){return arguments.length?(o=+u,s):o},s.radius=function(u){return arguments.length?(e=typeof u=="function"?u:Ae(+u),c(),s):e},s}const Hd=1664525,Gd=1013904223,So=4294967296;function Wd(){let e=1;return()=>(e=(Hd*e+Gd)%So)/So}var Yd=10,Jd=Math.PI*(3-Math.sqrt(5));function Xd(e){var t,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,s=.6,a=new Map,c=Ir(f),u=Cn("tick","end"),l=Wd();e==null&&(e=[]);function f(){h(),u.call("tick",t),n<r&&(c.stop(),u.call("end",t))}function h(p){var v,m=e.length,_;p===void 0&&(p=1);for(var k=0;k<p;++k)for(n+=(i-n)*o,a.forEach(function(z){z(n)}),v=0;v<m;++v)_=e[v],_.fx==null?_.x+=_.vx*=s:(_.x=_.fx,_.vx=0),_.fy==null?_.y+=_.vy*=s:(_.y=_.fy,_.vy=0);return t}function d(){for(var p=0,v=e.length,m;p<v;++p){if(m=e[p],m.index=p,m.fx!=null&&(m.x=m.fx),m.fy!=null&&(m.y=m.fy),isNaN(m.x)||isNaN(m.y)){var _=Yd*Math.sqrt(.5+p),k=p*Jd;m.x=_*Math.cos(k),m.y=_*Math.sin(k)}(isNaN(m.vx)||isNaN(m.vy))&&(m.vx=m.vy=0)}}function y(p){return p.initialize&&p.initialize(e,l),p}return d(),t={tick:h,restart:function(){return c.restart(f),t},stop:function(){return c.stop(),t},nodes:function(p){return arguments.length?(e=p,d(),a.forEach(y),t):e},alpha:function(p){return arguments.length?(n=+p,t):n},alphaMin:function(p){return arguments.length?(r=+p,t):r},alphaDecay:function(p){return arguments.length?(o=+p,t):+o},alphaTarget:function(p){return arguments.length?(i=+p,t):i},velocityDecay:function(p){return arguments.length?(s=1-p,t):1-s},randomSource:function(p){return arguments.length?(l=p,a.forEach(y),t):l},force:function(p,v){return arguments.length>1?(v==null?a.delete(p):a.set(p,y(v)),t):a.get(p)},find:function(p,v,m){var _=0,k=e.length,z,$,T,j,S;for(m==null?m=1/0:m*=m,_=0;_<k;++_)j=e[_],z=p-j.x,$=v-j.y,T=z*z+$*$,T<m&&(S=j,m=T);return S},on:function(p,v){return arguments.length>1?(u.on(p,v),t):u.on(p)}}}function qd(e){var t=Ae(.1),n,r,o;typeof e!="function"&&(e=Ae(e==null?0:+e));function i(a){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vx+=(o[c]-l.x)*r[c]*a}function s(){if(n){var a,c=n.length;for(r=new Array(c),o=new Array(c),a=0;a<c;++a)r[a]=isNaN(o[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return i.initialize=function(a){n=a,s()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ae(+a),s(),i):t},i.x=function(a){return arguments.length?(e=typeof a=="function"?a:Ae(+a),s(),i):e},i}function Kd(e){var t=Ae(.1),n,r,o;typeof e!="function"&&(e=Ae(e==null?0:+e));function i(a){for(var c=0,u=n.length,l;c<u;++c)l=n[c],l.vy+=(o[c]-l.y)*r[c]*a}function s(){if(n){var a,c=n.length;for(r=new Array(c),o=new Array(c),a=0;a<c;++a)r[a]=isNaN(o[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return i.initialize=function(a){n=a,s()},i.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ae(+a),s(),i):t},i.y=function(a){return arguments.length?(e=typeof a=="function"?a:Ae(+a),s(),i):e},i}function Qd(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yn(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ut(e){return e=yn(Math.abs(e)),e?e[1]:NaN}function ep(e,t){return function(n,r){for(var o=n.length,i=[],s=0,a=e[0],c=0;o>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),i.push(n.substring(o-=a,o+a)),!((c+=a+1)>r));)a=e[s=(s+1)%e.length];return i.reverse().join(t)}}function tp(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var np=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vn(e){if(!(t=np.exec(e)))throw new Error("invalid format: "+e);var t;return new jr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}vn.prototype=jr.prototype;function jr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rp(e){e:for(var t=e.length,n=1,r=-1,o;n<t;++n)switch(e[n]){case".":r=o=n;break;case"0":r===0&&(r=n),o=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(o+1):e}var _n;function op(e,t){var n=yn(e,t);if(!n)return _n=void 0,e.toPrecision(t);var r=n[0],o=n[1],i=o-(_n=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+yn(e,Math.max(0,t+i-1))[0]}function To(e,t){var n=yn(e,t);if(!n)return e+"";var r=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}const No={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qd,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>To(e*100,t),r:To,s:op,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Eo(e){return e}var Co=Array.prototype.map,Ro=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ip(e){var t=e.grouping===void 0||e.thousands===void 0?Eo:ep(Co.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Eo:tp(Co.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=vn(f);var d=f.fill,y=f.align,p=f.sign,v=f.symbol,m=f.zero,_=f.width,k=f.comma,z=f.precision,$=f.trim,T=f.type;T==="n"?(k=!0,T="g"):No[T]||(z===void 0&&(z=12),$=!0,T="g"),(m||d==="0"&&y==="=")&&(m=!0,d="0",y="=");var j=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():""),S=(v==="$"?r:/[%p]/.test(T)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),I=No[T],U=/[defgprs%]/.test(T);z=z===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function G(M){var B=j,g=S,C,b,R;if(T==="c")g=I(M)+g,M="";else{M=+M;var w=M<0||1/M<0;if(M=isNaN(M)?c:I(Math.abs(M),z),$&&(M=rp(M)),w&&+M==0&&p!=="+"&&(w=!1),B=(w?p==="("?p:a:p==="-"||p==="("?"":p)+B,g=(T==="s"&&!isNaN(M)&&_n!==void 0?Ro[8+_n/3]:"")+g+(w&&p==="("?")":""),U){for(C=-1,b=M.length;++C<b;)if(R=M.charCodeAt(C),48>R||R>57){g=(R===46?o+M.slice(C+1):M.slice(C))+g,M=M.slice(0,C);break}}}k&&!m&&(M=t(M,1/0));var F=B.length+M.length+g.length,D=F<_?new Array(_-F+1).join(d):"";switch(k&&m&&(M=t(D+M,D.length?_-g.length:1/0),D=""),y){case"<":M=B+M+g+D;break;case"=":M=B+D+M+g;break;case"^":M=D.slice(0,F=D.length>>1)+B+M+g+D.slice(F);break;default:M=D+B+M+g;break}return i(M)}return G.toString=function(){return f+""},G}function l(f,h){var d=Math.max(-8,Math.min(8,Math.floor(ut(h)/3)))*3,y=Math.pow(10,-d),p=u((f=vn(f),f.type="f",f),{suffix:Ro[8+d/3]});return function(v){return p(y*v)}}return{format:u,formatPrefix:l}}var Vt,Is,Ps;sp({thousands:",",grouping:[3],currency:["$",""]});function sp(e){return Vt=ip(e),Is=Vt.format,Ps=Vt.formatPrefix,Vt}function ap(e){return Math.max(0,-ut(Math.abs(e)))}function cp(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ut(t)/3)))*3-ut(Math.abs(e)))}function up(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ut(t)-ut(e))+1}function lp(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function fp(){return this.eachAfter(lp)}function hp(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function dp(e,t){for(var n=this,r=[n],o,i,s=-1;n=r.pop();)if(e.call(t,n,++s,this),o=n.children)for(i=o.length-1;i>=0;--i)r.push(o[i]);return this}function pp(e,t){for(var n=this,r=[n],o=[],i,s,a,c=-1;n=r.pop();)if(o.push(n),i=n.children)for(s=0,a=i.length;s<a;++s)r.push(i[s]);for(;n=o.pop();)e.call(t,n,++c,this);return this}function mp(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function gp(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,o=r&&r.length;--o>=0;)n+=r[o].value;t.value=n})}function yp(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function vp(e){for(var t=this,n=_p(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var o=r.length;e!==n;)r.splice(o,0,e),e=e.parent;return r}function _p(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),o=null;for(e=n.pop(),t=r.pop();e===t;)o=e,e=n.pop(),t=r.pop();return o}function wp(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function bp(){return Array.from(this)}function xp(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function kp(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*zp(){var e=this,t,n=[e],r,o,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(o=0,i=r.length;o<i;++o)n.push(r[o]);while(n.length)}function Fr(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Sp)):t===void 0&&(t=$p);for(var n=new wn(e),r,o=[n],i,s,a,c;r=o.pop();)if((s=t(r.data))&&(c=(s=Array.from(s)).length))for(r.children=s,a=c-1;a>=0;--a)o.push(i=s[a]=new wn(s[a])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(Np)}function Ap(){return Fr(this).eachBefore(Tp)}function $p(e){return e.children}function Sp(e){return Array.isArray(e)?e[1]:null}function Tp(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Np(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function wn(e){this.data=e,this.depth=this.height=0,this.parent=null}wn.prototype=Fr.prototype={constructor:wn,count:fp,each:hp,eachAfter:pp,eachBefore:dp,find:mp,sum:gp,sort:yp,path:vp,ancestors:wp,descendants:bp,leaves:xp,links:kp,copy:Ap,[Symbol.iterator]:zp};function Ep(e){return e==null?null:Cp(e)}function Cp(e){if(typeof e!="function")throw new Error;return e}function Oo(){return 0}function Rp(e){return function(){return e}}const Op=1664525,Mp=1013904223,Mo=4294967296;function Ip(){let e=1;return()=>(e=(Op*e+Mp)%Mo)/Mo}function Pp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Zp(e,t){let n=e.length,r,o;for(;n;)o=t()*n--|0,r=e[n],e[n]=e[o],e[o]=r;return e}function Dp(e,t){for(var n=0,r=(e=Zp(Array.from(e),t)).length,o=[],i,s;n<r;)i=e[n],s&&Zs(s,i)?++n:(s=Fp(o=jp(o,i)),n=0);return s}function jp(e,t){var n,r;if(Qn(t,e))return[t];for(n=0;n<e.length;++n)if(Ut(t,e[n])&&Qn(_t(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Ut(_t(e[n],e[r]),t)&&Ut(_t(e[n],t),e[r])&&Ut(_t(e[r],t),e[n])&&Qn(Ds(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Ut(e,t){var n=e.r-t.r,r=t.x-e.x,o=t.y-e.y;return n<0||n*n<r*r+o*o}function Zs(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function Qn(e,t){for(var n=0;n<t.length;++n)if(!Zs(e,t[n]))return!1;return!0}function Fp(e){switch(e.length){case 1:return Lp(e[0]);case 2:return _t(e[0],e[1]);case 3:return Ds(e[0],e[1],e[2])}}function Lp(e){return{x:e.x,y:e.y,r:e.r}}function _t(e,t){var n=e.x,r=e.y,o=e.r,i=t.x,s=t.y,a=t.r,c=i-n,u=s-r,l=a-o,f=Math.sqrt(c*c+u*u);return{x:(n+i+c/f*l)/2,y:(r+s+u/f*l)/2,r:(f+o+a)/2}}function Ds(e,t,n){var r=e.x,o=e.y,i=e.r,s=t.x,a=t.y,c=t.r,u=n.x,l=n.y,f=n.r,h=r-s,d=r-u,y=o-a,p=o-l,v=c-i,m=f-i,_=r*r+o*o-i*i,k=_-s*s-a*a+c*c,z=_-u*u-l*l+f*f,$=d*y-h*p,T=(y*z-p*k)/($*2)-r,j=(p*v-y*m)/$,S=(d*k-h*z)/($*2)-o,I=(h*m-d*v)/$,U=j*j+I*I-1,G=2*(i+T*j+S*I),M=T*T+S*S-i*i,B=-(Math.abs(U)>1e-6?(G+Math.sqrt(G*G-4*U*M))/(2*U):M/G);return{x:r+T+j*B,y:o+S+I*B,r:B}}function Io(e,t,n){var r=e.x-t.x,o,i,s=e.y-t.y,a,c,u=r*r+s*s;u?(i=t.r+n.r,i*=i,c=e.r+n.r,c*=c,i>c?(o=(u+c-i)/(2*u),a=Math.sqrt(Math.max(0,c/u-o*o)),n.x=e.x-o*r-a*s,n.y=e.y-o*s+a*r):(o=(u+i-c)/(2*u),a=Math.sqrt(Math.max(0,i/u-o*o)),n.x=t.x+o*r-a*s,n.y=t.y+o*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Po(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,o=t.y-e.y;return n>0&&n*n>r*r+o*o}function Zo(e){var t=e._,n=e.next._,r=t.r+n.r,o=(t.x*n.r+n.x*t.r)/r,i=(t.y*n.r+n.y*t.r)/r;return o*o+i*i}function Bt(e){this._=e,this.next=null,this.previous=null}function Vp(e,t){if(!(i=(e=Pp(e)).length))return 0;var n,r,o,i,s,a,c,u,l,f,h;if(n=e[0],n.x=0,n.y=0,!(i>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(i>2))return n.r+r.r;Io(r,n,o=e[2]),n=new Bt(n),r=new Bt(r),o=new Bt(o),n.next=o.previous=r,r.next=n.previous=o,o.next=r.previous=n;e:for(c=3;c<i;++c){Io(n._,r._,o=e[c]),o=new Bt(o),u=r.next,l=n.previous,f=r._.r,h=n._.r;do if(f<=h){if(Po(u._,o._)){r=u,n.next=r,r.previous=n,--c;continue e}f+=u._.r,u=u.next}else{if(Po(l._,o._)){n=l,n.next=r,r.previous=n,--c;continue e}h+=l._.r,l=l.previous}while(u!==l.next);for(o.previous=n,o.next=r,n.next=r.previous=r=o,s=Zo(n);(o=o.next)!==r;)(a=Zo(o))<s&&(n=o,s=a);r=n.next}for(n=[r._],o=r;(o=o.next)!==r;)n.push(o._);for(o=Dp(n,t),c=0;c<i;++c)n=e[c],n.x-=o.x,n.y-=o.y;return o.r}function Up(e){return Math.sqrt(e.value)}function Bp(){var e=null,t=1,n=1,r=Oo;function o(i){const s=Ip();return i.x=t/2,i.y=n/2,e?i.eachBefore(Do(e)).eachAfter(er(r,.5,s)).eachBefore(jo(1)):i.eachBefore(Do(Up)).eachAfter(er(Oo,1,s)).eachAfter(er(r,i.r/Math.min(t,n),s)).eachBefore(jo(Math.min(t,n)/(2*i.r))),i}return o.radius=function(i){return arguments.length?(e=Ep(i),o):e},o.size=function(i){return arguments.length?(t=+i[0],n=+i[1],o):[t,n]},o.padding=function(i){return arguments.length?(r=typeof i=="function"?i:Rp(+i),o):r},o}function Do(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function er(e,t,n){return function(r){if(o=r.children){var o,i,s=o.length,a=e(r)*t||0,c;if(a)for(i=0;i<s;++i)o[i].r+=a;if(c=Vp(o,n),a)for(i=0;i<s;++i)o[i].r-=a;r.r=c+a}}}function jo(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Hp(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gp(e){return function(){return e}}function Wp(e){return+e}var Fo=[0,1];function Qe(e){return e}function _r(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Gp(isNaN(t)?NaN:.5)}function Yp(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Jp(e,t,n){var r=e[0],o=e[1],i=t[0],s=t[1];return o<r?(r=_r(o,r),i=n(s,i)):(r=_r(r,o),i=n(i,s)),function(a){return i(r(a))}}function Xp(e,t,n){var r=Math.min(e.length,t.length)-1,o=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)o[s]=_r(e[s],e[s+1]),i[s]=n(t[s],t[s+1]);return function(a){var c=Lu(e,a,1,r)-1;return i[c](o[c](a))}}function qp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kp(){var e=Fo,t=Fo,n=Or,r,o,i,s=Qe,a,c,u;function l(){var h=Math.min(e.length,t.length);return s!==Qe&&(s=Yp(e[0],e[h-1])),a=h>2?Xp:Jp,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=a(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(o((u||(u=a(t,e.map(r),_e)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Wp),l()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),l()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=ih,l()},f.clamp=function(h){return arguments.length?(s=h?!0:Qe,l()):s!==Qe},f.interpolate=function(h){return arguments.length?(n=h,l()):n},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return r=h,o=d,l()}}function Qp(){return Kp()(Qe,Qe)}function em(e,t,n,r){var o=Gu(e,t,n),i;switch(r=vn(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=cp(o,s))&&(r.precision=i),Ps(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=up(o,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=ap(o))&&(r.precision=i-(r.type==="%")*2);break}}return Is(r)}function tm(e){var t=e.domain;return e.ticks=function(n){var r=t();return Hu(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var o=t();return em(o[0],o[o.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),o=0,i=r.length-1,s=r[o],a=r[i],c,u,l=10;for(a<s&&(u=s,s=a,a=u,u=o,o=i,i=u);l-- >0;){if(u=cr(s,a,n),u===c)return r[o]=s,r[i]=a,t(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;c=u}return e},e}function wr(){var e=Qp();return e.copy=function(){return qp(e,wr())},Hp.apply(e,arguments),tm(e)}const Ht=e=>()=>e;function nm(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}function Oe(e,t,n){this.k=e,this.x=t,this.y=n}Oe.prototype={constructor:Oe,scale:function(e){return e===1?this:new Oe(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Oe(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Lr=new Oe(1,0,0);Oe.prototype;function tr(e){e.stopImmediatePropagation()}function gt(e){e.preventDefault(),e.stopImmediatePropagation()}function rm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function om(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Lo(){return this.__zoom||Lr}function im(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function sm(){return navigator.maxTouchPoints||"ontouchstart"in this}function am(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function cm(){var e=rm,t=om,n=am,r=im,o=sm,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=dh,u=Cn("start","zoom","end"),l,f,h,d=500,y=150,p=0,v=10;function m(g){g.property("__zoom",Lo).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",U).filter(o).on("touchstart.zoom",G).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(g,C,b,R){var w=g.selection?g.selection():g;w.property("__zoom",Lo),g!==w?$(g,C,b,R):w.interrupt().each(function(){T(this,arguments).event(R).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},m.scaleBy=function(g,C,b,R){m.scaleTo(g,function(){var w=this.__zoom.k,F=typeof C=="function"?C.apply(this,arguments):C;return w*F},b,R)},m.scaleTo=function(g,C,b,R){m.transform(g,function(){var w=t.apply(this,arguments),F=this.__zoom,D=b==null?z(w):typeof b=="function"?b.apply(this,arguments):b,W=F.invert(D),q=typeof C=="function"?C.apply(this,arguments):C;return n(k(_(F,q),D,W),w,s)},b,R)},m.translateBy=function(g,C,b,R){m.transform(g,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof b=="function"?b.apply(this,arguments):b),t.apply(this,arguments),s)},null,R)},m.translateTo=function(g,C,b,R,w){m.transform(g,function(){var F=t.apply(this,arguments),D=this.__zoom,W=R==null?z(F):typeof R=="function"?R.apply(this,arguments):R;return n(Lr.translate(W[0],W[1]).scale(D.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof b=="function"?-b.apply(this,arguments):-b),F,s)},R,w)};function _(g,C){return C=Math.max(i[0],Math.min(i[1],C)),C===g.k?g:new Oe(C,g.x,g.y)}function k(g,C,b){var R=C[0]-b[0]*g.k,w=C[1]-b[1]*g.k;return R===g.x&&w===g.y?g:new Oe(g.k,R,w)}function z(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function $(g,C,b,R){g.on("start.zoom",function(){T(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){T(this,arguments).event(R).end()}).tween("zoom",function(){var w=this,F=arguments,D=T(w,F).event(R),W=t.apply(w,F),q=b==null?z(W):typeof b=="function"?b.apply(w,F):b,J=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),X=w.__zoom,oe=typeof C=="function"?C.apply(w,F):C,N=c(X.invert(q).concat(J/X.k),oe.invert(q).concat(J/oe.k));return function(O){if(O===1)O=oe;else{var L=N(O),K=J/L[2];O=new Oe(K,q[0]-L[0]*K,q[1]-L[1]*K)}D.zoom(null,O)}})}function T(g,C,b){return!b&&g.__zooming||new j(g,C)}function j(g,C){this.that=g,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(g,C),this.taps=0}j.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,C){return this.mouse&&g!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&g!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&g!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var C=we(this.that).datum();u.call(g,this.that,new nm(g,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:u}),C)}};function S(g,...C){if(!e.apply(this,arguments))return;var b=T(this,C).event(g),R=this.__zoom,w=Math.max(i[0],Math.min(i[1],R.k*Math.pow(2,r.apply(this,arguments)))),F=Ve(g);if(b.wheel)(b.mouse[0][0]!==F[0]||b.mouse[0][1]!==F[1])&&(b.mouse[1]=R.invert(b.mouse[0]=F)),clearTimeout(b.wheel);else{if(R.k===w)return;b.mouse=[F,R.invert(F)],nn(this),b.start()}gt(g),b.wheel=setTimeout(D,y),b.zoom("mouse",n(k(_(R,w),b.mouse[0],b.mouse[1]),b.extent,s));function D(){b.wheel=null,b.end()}}function I(g,...C){if(h||!e.apply(this,arguments))return;var b=g.currentTarget,R=T(this,C,!0).event(g),w=we(g.view).on("mousemove.zoom",q,!0).on("mouseup.zoom",J,!0),F=Ve(g,b),D=g.clientX,W=g.clientY;Cf(g.view),tr(g),R.mouse=[F,this.__zoom.invert(F)],nn(this),R.start();function q(X){if(gt(X),!R.moved){var oe=X.clientX-D,N=X.clientY-W;R.moved=oe*oe+N*N>p}R.event(X).zoom("mouse",n(k(R.that.__zoom,R.mouse[0]=Ve(X,b),R.mouse[1]),R.extent,s))}function J(X){w.on("mousemove.zoom mouseup.zoom",null),Rf(X.view,R.moved),gt(X),R.event(X).end()}}function U(g,...C){if(e.apply(this,arguments)){var b=this.__zoom,R=Ve(g.changedTouches?g.changedTouches[0]:g,this),w=b.invert(R),F=b.k*(g.shiftKey?.5:2),D=n(k(_(b,F),R,w),t.apply(this,C),s);gt(g),a>0?we(this).transition().duration(a).call($,D,R,g):we(this).call(m.transform,D,R,g)}}function G(g,...C){if(e.apply(this,arguments)){var b=g.touches,R=b.length,w=T(this,C,g.changedTouches.length===R).event(g),F,D,W,q;for(tr(g),D=0;D<R;++D)W=b[D],q=Ve(W,this),q=[q,this.__zoom.invert(q),W.identifier],w.touch0?!w.touch1&&w.touch0[2]!==q[2]&&(w.touch1=q,w.taps=0):(w.touch0=q,F=!0,w.taps=1+!!l);l&&(l=clearTimeout(l)),F&&(w.taps<2&&(f=q[0],l=setTimeout(function(){l=null},d)),nn(this),w.start())}}function M(g,...C){if(this.__zooming){var b=T(this,C).event(g),R=g.changedTouches,w=R.length,F,D,W,q;for(gt(g),F=0;F<w;++F)D=R[F],W=Ve(D,this),b.touch0&&b.touch0[2]===D.identifier?b.touch0[0]=W:b.touch1&&b.touch1[2]===D.identifier&&(b.touch1[0]=W);if(D=b.that.__zoom,b.touch1){var J=b.touch0[0],X=b.touch0[1],oe=b.touch1[0],N=b.touch1[1],O=(O=oe[0]-J[0])*O+(O=oe[1]-J[1])*O,L=(L=N[0]-X[0])*L+(L=N[1]-X[1])*L;D=_(D,Math.sqrt(O/L)),W=[(J[0]+oe[0])/2,(J[1]+oe[1])/2],q=[(X[0]+N[0])/2,(X[1]+N[1])/2]}else if(b.touch0)W=b.touch0[0],q=b.touch0[1];else return;b.zoom("touch",n(k(D,W,q),b.extent,s))}}function B(g,...C){if(this.__zooming){var b=T(this,C).event(g),R=g.changedTouches,w=R.length,F,D;for(tr(g),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),F=0;F<w;++F)D=R[F],b.touch0&&b.touch0[2]===D.identifier?delete b.touch0:b.touch1&&b.touch1[2]===D.identifier&&delete b.touch1;if(b.touch1&&!b.touch0&&(b.touch0=b.touch1,delete b.touch1),b.touch0)b.touch0[1]=this.__zoom.invert(b.touch0[0]);else if(b.end(),b.taps===2&&(D=Ve(D,this),Math.hypot(f[0]-D[0],f[1]-D[1])<v)){var W=we(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return m.wheelDelta=function(g){return arguments.length?(r=typeof g=="function"?g:Ht(+g),m):r},m.filter=function(g){return arguments.length?(e=typeof g=="function"?g:Ht(!!g),m):e},m.touchable=function(g){return arguments.length?(o=typeof g=="function"?g:Ht(!!g),m):o},m.extent=function(g){return arguments.length?(t=typeof g=="function"?g:Ht([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),m):t},m.scaleExtent=function(g){return arguments.length?(i[0]=+g[0],i[1]=+g[1],m):[i[0],i[1]]},m.translateExtent=function(g){return arguments.length?(s[0][0]=+g[0][0],s[1][0]=+g[1][0],s[0][1]=+g[0][1],s[1][1]=+g[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(g){return arguments.length?(n=g,m):n},m.duration=function(g){return arguments.length?(a=+g,m):a},m.interpolate=function(g){return arguments.length?(c=g,m):c},m.on=function(){var g=u.on.apply(u,arguments);return g===u?m:g},m.clickDistance=function(g){return arguments.length?(p=(g=+g)*g,m):Math.sqrt(p)},m.tapDistance=function(g){return arguments.length?(v=+g,m):v},m}const Gt={focus:{duration:750,easing:Rs},label:{duration:400},thresholds:{disableAnimationsAfter:1e3}},rn=720,um=768,lm=2e3,fm="使用 Cmd/Ctrl + 滾輪縮放，點擊後拖曳可以平移",hm=.88,dm=2,pm=1,bn=6,mm=6,gm="4,4",ym="#000",Vo=2,vm=18,Uo=28,_m=12,Bo=.08,wm=2,bm=({autoHideMs:e})=>{const[t,n]=A.useState(!1),r=A.useRef(null),o=A.useCallback(()=>{r.current&&(clearTimeout(r.current),r.current=null)},[]),i=A.useCallback(()=>{o(),n(!1)},[o]),s=A.useCallback(()=>{n(!0),o(),r.current=setTimeout(()=>{n(!1),r.current=null},e)},[e,o]);return A.useEffect(()=>i,[i]),{visible:t,showHint:s,dismissHint:i}},xm="#000",Ze=(e,t)=>{const n=!!(t!=null&&t.hovered);return e.data.proposalType==="main-resolution"?{stroke:ym,strokeWidth:n?Vo+1:Vo,strokeDasharray:gm}:e.data.isFrozen?{stroke:"none",strokeWidth:0,strokeDasharray:"none"}:{stroke:xm,strokeWidth:n?dm:pm,strokeDasharray:"none"}},Ho=e=>e?bn+1.5:bn,km=e=>!e.children||e.children.length===0?null:e.children.reduce((t,n)=>{const r=t.value??0;return(n.value??0)>r?n:t},e.children[0]),zm=e=>e<60?8:e<120?14:20,Am=e=>e<60?.06:e<120?.04:.025,Go=e=>{const t=zm(e),n=Am(e),r=e*n,o=Math.max(32,Math.round(t*mm));let i="";for(let s=0;s<=o;s+=1){const a=s/o*Math.PI*2,c=Math.sin(a*t)*r,u=e+c,l=u*Math.cos(a),f=u*Math.sin(a);i+=s===0?`M ${l.toFixed(3)} ${f.toFixed(3)}`:` L ${l.toFixed(3)} ${f.toFixed(3)}`}return`${i} Z`},js=e=>typeof e!="number"||!isFinite(e)||e<0?0:e,Fs=e=>{const t={...e,value:js(e.value)};return e.children&&e.children.length>0&&(t.children=e.children.map(Fs)),t},Wo=(e,t,n,r)=>{const o=isFinite(t)&&t>0?t:rn,i=isFinite(n)&&n>0?n:o,s=Fs(e);return Bp().size([o,i]).padding(a=>{const c=r(a);return isFinite(c)&&c>=0?c:3})(Fr(s).sum(a=>js(a.value)).sort((a,c)=>(c.value??0)-(a.value??0)))},$m=e=>{const t=e.descendants().filter(i=>(!i.children||i.children.length===0)&&i.r<=vm);if(t.length===0)return new Map;const n=t.map(i=>{const s=i.x??0,a=i.y??0;return{id:i.data.id,x:s,y:a,r:i.r,targetX:s+(Math.random()-.5)*Uo,targetY:a+(Math.random()-.5)*Uo}}),r=Xd(n).force("x",qd(i=>i.targetX).strength(Bo)).force("y",Kd(i=>i.targetY).strength(Bo)).force("collide",Bd().radius(i=>i.r+wm));r.stop();for(let i=0;i<_m;i+=1)r.tick();r.stop();const o=new Map;return n.forEach(i=>{o.set(i.id,{x:i.x,y:i.y})}),o},Sm=({data:e,width:t=rn,height:n,padding:r=3,onNodeClick:o})=>{const i=A.useRef(null),s=A.useRef(null),a=A.useRef(null),c=A.useRef(null),u=A.useRef(null),l=A.useRef({zoomBy:()=>{},resetToRoot:()=>{},focusNode:()=>{}}),{visible:f,dismissHint:h,showHint:d}=bm({autoHideMs:lm}),{root:y,width:p,height:v,color:m,initialFocus:_,animations:k,animationsEnabled:z}=A.useMemo(()=>{if(!e||!e.id){const w={id:"empty",name:"empty",value:0,children:[]},F=rn,D=F,W=wr().domain([0,5]).range(["hsl(152,80%,80%)","hsl(228,30%,40%)"]).interpolate(wo),J=Wo(w,F,D,typeof r=="function"?r:()=>typeof r=="number"?r:3);return{root:J,width:F,height:D,color:W,initialFocus:J,animations:{focus:0,label:0},animationsEnabled:!1}}const I=t??rn,U=typeof n=="number"&&n>0?n:I,G=wr().domain([0,5]).range(["hsl(152,80%,80%)","hsl(228,30%,40%)"]).interpolate(wo),B=Wo(e,I,U,typeof r=="function"?r:()=>r),C=I<um&&km(B)||B,R=B.descendants().length>Gt.thresholds.disableAnimationsAfter;return{root:B,width:I,height:U,color:G,initialFocus:C,animations:{focus:R?0:Gt.focus.duration,label:R?0:Gt.label.duration},animationsEnabled:!R}},[t,n,e,r]),$=A.useMemo(()=>$m(y),[y]);A.useEffect(()=>{const I=i.current;if(!I)return;const U=()=>{d()};return I.addEventListener("wheel",U,{passive:!1}),()=>I.removeEventListener("wheel",U)},[d]),A.useEffect(()=>{d()},[d]),A.useEffect(()=>{if(!i.current)return;const I=Nf("svg").attr("viewBox",`-${p/2} -${v/2} ${p} ${v}`).attr("width",p).attr("height",v).attr("style","max-width: 100%; height: auto; display: block; cursor: default;");s.current=I;const U=y.descendants().slice(1),G=N=>{const O=$.get(N.data.id);return O||{x:N.x??0,y:N.y??0}},M=I.append("g").selectAll("g").data(U).join("g").attr("pointer-events",N=>N.children||N.data.id?"auto":"none").style("cursor",N=>N.data.id||N.children?"pointer":"default").on("mouseover",function(N,O){const L=we(this);O.data.isFrozen&&L.selectAll(".frozen-wave").attr("stroke-width",Ho(!0));const K=Ze(O,{hovered:!0});L.selectAll(".node-base-circle").attr("stroke",K.stroke).attr("stroke-width",K.strokeWidth).attr("stroke-dasharray",K.strokeDasharray)}).on("mouseout",function(N,O){const L=we(this);O.data.isFrozen&&L.selectAll(".frozen-wave").attr("stroke-width",Ho(!1));const K=Ze(O);L.selectAll(".node-base-circle").attr("stroke",K.stroke).attr("stroke-width",K.strokeWidth).attr("stroke-dasharray",K.strokeDasharray)});M.append("circle").attr("class","node-base-circle").attr("r",N=>N.r).attr("fill",N=>N.data.color??(N.children?m(N.depth):"white")).attr("stroke",N=>Ze(N).stroke).attr("stroke-width",N=>Ze(N).strokeWidth).attr("stroke-dasharray",N=>Ze(N).strokeDasharray),M.filter(N=>N.data.isFrozen??!1).append("path").attr("class","frozen-wave").attr("fill","none").attr("stroke","#ff40c8").attr("stroke-width",bn).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("d",N=>Go(N.r));const g=I.append("g").attr("pointer-events","none").attr("text-anchor","middle").selectAll("text").data(y.descendants().slice(1)).join("text").style("fill-opacity","1").style("display","inline").style("font-size",N=>`${Math.max(10,Math.min(40,N.r/5))}px`).style("font-family","sans-serif").each(function(N){const O=we(this),L=N.data.name,K=L.split(/\n|\|/);if(K.length>1){O.text(null);const ve=1.1;K.forEach((Ln,Pt)=>{O.append("tspan").attr("x",0).attr("dy",Pt===0?"0em":`${ve}em`).text(Ln)});const Ie=O.selectAll("tspan"),ze=Ie.size();if(ze>1){const Ln=-((ze-1)/2)*ve;let Pt=!0;Ie.each(function(){const Jr=this;Jr.setAttribute("x","0"),Jr.setAttribute("dy",Pt?`${Ln}em`:`${ve}em`),Pt=!1})}return}const se=L.split(/\s+/);if(se.length<=1){O.text(L);return}const ce=1.1,ue=Math.max(24,N.r*1.6);O.text(null);let fe=[],Ne=O.append("tspan").attr("x",0).attr("dy","0em");for(const ve of se)fe.push(ve),Ne.text(fe.join(" ")),Ne.node().getComputedTextLength()>ue&&fe.length>1&&(fe.pop(),Ne.text(fe.join(" ")),fe=[ve],Ne=O.append("tspan").attr("x",0).attr("dy",`${ce}em`).text(ve));const Mt=O.selectAll("tspan"),It=Mt.size();if(It>1){const ve=-((It-1)/2)*ce;let Ie=!0;Mt.each(function(){const ze=this;ze.setAttribute("x","0"),ze.setAttribute("dy",Ie?`${ve}em`:`${ce}em`),Ie=!1})}}),C=N=>{c.current=N,u.current=(N==null?void 0:N.data.id)??null};C(_??y);const b=k.focus,R=k.label,w=N=>{const O=p/N[2];return Lr.scale(O).translate(-N[0],-N[1])},F=N=>{const O=N.k;g.attr("transform",L=>{const{x:K,y:se}=G(L),ce=L.children&&L.children.length>0?se-L.r*hm:se,[ue,fe]=N.apply([K,ce]);return`translate(${ue}, ${fe})`}).style("font-size",L=>`${Math.max(10,Math.min(40,L.r*O/5))}px`),M.attr("transform",L=>{const{x:K,y:se}=G(L),[ce,ue]=N.apply([K,se]);return`translate(${ce},${ue})`}),M.selectAll(".node-base-circle").attr("r",L=>L.r*O).attr("stroke",L=>Ze(L).stroke).attr("stroke-width",L=>Ze(L).strokeWidth).attr("stroke-dasharray",L=>Ze(L).strokeDasharray),M.selectAll(".frozen-wave").attr("d",L=>Go(L.r*O)).attr("stroke-width",bn)},D=(N,{duration:O=b,easing:L=Gt.focus.easing}={})=>{const{x:K,y:se}=G(N),ce=[K,se,N.r*2],ue=w(ce);if(z&&O!==void 0&&O>0){const Ne=I.interrupt().transition().duration(O).ease(L);J.transform(Ne,ue)}else J.transform(I,ue)},W=(N=R)=>{z&&N!==void 0&&N>0?g.interrupt().transition().duration(N).ease(Rs).style("fill-opacity","1").on("start",function(){this.style.display="inline"}):g.interrupt().style("fill-opacity","1").style("display","inline")},q=N=>{C(N),D(N,{duration:b}),W(R)},J=cm().scaleExtent([.5,10]).filter(N=>N.type==="wheel"?N.ctrlKey||N.metaKey:!0).on("zoom",N=>{var O,L;(((O=N.sourceEvent)==null?void 0:O.type)==="wheel"||((L=N.sourceEvent)==null?void 0:L.type)==="touchmove")&&N.sourceEvent.preventDefault(),F(N.transform)});a.current=J;const X=()=>{q(y)};return l.current={zoomBy:N=>{!s.current||!a.current||s.current.transition().duration(300).call(a.current.scaleBy,N)},resetToRoot:()=>{X()},focusNode:N=>{const O=y.descendants().find(L=>L.data.id===N);O&&q(O)}},D(_??y,{duration:0}),W(0),I.call(J),I.on("click",N=>{N.defaultPrevented||(h(),X())}),M.on("click",(N,O)=>{if(N.defaultPrevented)return;h();const L=typeof o=="function";if(O.children&&O.children.length>0){N.stopPropagation();return}L&&o&&o(O.data)!==!1&&(u.current=null,N.stopPropagation())}),i.current.innerHTML="",i.current.appendChild(I.node()),()=>{I.remove()}},[k.focus,k.label,z,m,h,v,_,o,$,y,p]);const T=A.useCallback(I=>{l.current.zoomBy(I)},[]),j=A.useCallback(()=>T(1.2),[T]),S=A.useCallback(()=>T(.8),[T]);return{containerRef:i,gestureHintVisible:f,dismissGestureHint:h,commands:{zoomBy:T,zoomIn:j,zoomOut:S,resetToRoot:()=>l.current.resetToRoot(),focusNode:I=>l.current.focusNode(I)}}},w_=e=>{const{containerRef:t,gestureHintVisible:n,dismissGestureHint:r,commands:o}=Sm(e);return E.jsxs("div",{className:"relative flex w-full items-center justify-center",children:[E.jsx(Pu,{containerRef:t}),E.jsx(Iu,{gestureHintVisible:n,gestureHintMessage:fm,onDismissGestureHint:r,onZoomIn:o.zoomIn,onZoomOut:o.zoomOut})]})};function x(e,t,n){function r(a,c){if(a._zod||Object.defineProperty(a,"_zod",{value:{def:c,constr:s,traits:new Set},enumerable:!1}),a._zod.traits.has(e))return;a._zod.traits.add(e),t(a,c);const u=s.prototype,l=Object.keys(u);for(let f=0;f<l.length;f++){const h=l[f];h in a||(a[h]=u[h].bind(a))}}const o=(n==null?void 0:n.Parent)??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function s(a){var c;const u=n!=null&&n.Parent?new i:this;r(u,a),(c=u._zod).deferred??(c.deferred=[]);for(const l of u._zod.deferred)l();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var c,u;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(u=(c=a==null?void 0:a._zod)==null?void 0:c.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class it extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ls extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Vs={};function We(e){return Vs}function Us(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function br(e,t){return typeof t=="bigint"?t.toString():t}function Vr(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ur(e){return e==null}function Br(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Tm(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const c=r.match(/\d?e-(\d?)/);c!=null&&c[1]&&(o=Number.parseInt(c[1]))}const i=n>o?n:o,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}const Yo=Symbol("evaluating");function Q(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Yo)return r===void 0&&(r=Yo,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function Xe(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function je(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function Jo(e){return JSON.stringify(e)}function Nm(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Bs="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function xn(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Em=Vr(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function $t(e){if(xn(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(xn(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Hs(e){return $t(e)?{...e}:Array.isArray(e)?[...e]:e}const Cm=new Set(["string","number","symbol"]);function Zn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fe(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function V(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Rm(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Om={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Mm(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const i=je(e._zod.def,{get shape(){const s={};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&(s[a]=n.shape[a])}return Xe(this,"shape",s),s},checks:[]});return Fe(e,i)}function Im(e,t){const n=e._zod.def,r=n.checks;if(r&&r.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const i=je(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const a in t){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);t[a]&&delete s[a]}return Xe(this,"shape",s),s},checks:[]});return Fe(e,i)}function Pm(e,t){if(!$t(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const i=e._zod.def.shape;for(const s in t)if(Object.getOwnPropertyDescriptor(i,s)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const o=je(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return Xe(this,"shape",i),i}});return Fe(e,o)}function Zm(e,t){if(!$t(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=je(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return Xe(this,"shape",r),r}});return Fe(e,n)}function Dm(e,t){const n=je(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return Xe(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Fe(e,n)}function jm(e,t,n){const o=t._zod.def.checks;if(o&&o.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const s=je(t._zod.def,{get shape(){const a=t._zod.def.shape,c={...a};if(n)for(const u in n){if(!(u in a))throw new Error(`Unrecognized key: "${u}"`);n[u]&&(c[u]=e?new e({type:"optional",innerType:a[u]}):a[u])}else for(const u in a)c[u]=e?new e({type:"optional",innerType:a[u]}):a[u];return Xe(this,"shape",c),c},checks:[]});return Fe(t,s)}function Fm(e,t,n){const r=je(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(const s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return Xe(this,"shape",i),i}});return Fe(t,r)}function et(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Gs(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Wt(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ye(e,t,n){var o,i,s,a,c,u;const r={...e,path:e.path??[]};if(!e.message){const l=Wt((s=(i=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:i.error)==null?void 0:s.call(i,e))??Wt((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??Wt((c=n.customError)==null?void 0:c.call(n,e))??Wt((u=n.localeError)==null?void 0:u.call(n,e))??"Invalid input";r.message=l}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Hr(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function St(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Ws=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,br,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ys=x("$ZodError",Ws),Js=x("$ZodError",Ws,{Parent:Error});function Lm(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function Vm(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>r({issues:s}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let s=n,a=0;for(;a<i.path.length;){const c=i.path[a];a===i.path.length-1?(s[c]=s[c]||{_errors:[]},s[c]._errors.push(t(i))):s[c]=s[c]||{_errors:[]},s=s[c],a++}}};return r(e),n}const Gr=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new it;if(s.issues.length){const a=new((o==null?void 0:o.Err)??e)(s.issues.map(c=>Ye(c,i,We())));throw Bs(a,o==null?void 0:o.callee),a}return s.value},Wr=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((o==null?void 0:o.Err)??e)(s.issues.map(c=>Ye(c,i,We())));throw Bs(a,o==null?void 0:o.callee),a}return s.value},Dn=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new it;return i.issues.length?{success:!1,error:new(e??Ys)(i.issues.map(s=>Ye(s,o,We())))}:{success:!0,data:i.value}},Um=Dn(Js),jn=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Ye(s,o,We())))}:{success:!0,data:i.value}},Bm=jn(Js),Hm=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gr(e)(t,n,o)},Gm=e=>(t,n,r)=>Gr(e)(t,n,r),Wm=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Wr(e)(t,n,o)},Ym=e=>async(t,n,r)=>Wr(e)(t,n,r),Jm=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Dn(e)(t,n,o)},Xm=e=>(t,n,r)=>Dn(e)(t,n,r),qm=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return jn(e)(t,n,o)},Km=e=>async(t,n,r)=>jn(e)(t,n,r),Qm=/^[cC][^\s-]{8,}$/,eg=/^[0-9a-z]+$/,tg=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ng=/^[0-9a-vA-V]{20}$/,rg=/^[A-Za-z0-9]{27}$/,og=/^[a-zA-Z0-9_-]{21}$/,ig=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,sg=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xo=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,ag=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,cg="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ug(){return new RegExp(cg,"u")}const lg=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fg=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,hg=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,dg=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pg=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Xs=/^[A-Za-z0-9_-]*$/,mg=/^\+[1-9]\d{6,14}$/,qs="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",gg=new RegExp(`^${qs}$`);function Ks(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function yg(e){return new RegExp(`^${Ks(e)}$`)}function vg(e){const t=Ks({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${qs}T(?:${r})$`)}const _g=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},wg=/^-?\d+$/,bg=/^-?\d+(?:\.\d+)?$/,xg=/^[^A-Z]*$/,kg=/^[^a-z]*$/,me=x("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Qs={number:"number",bigint:"bigint",object:"date"},ea=x("$ZodCheckLessThan",(e,t)=>{me.init(e,t);const n=Qs[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),ta=x("$ZodCheckGreaterThan",(e,t)=>{me.init(e,t);const n=Qs[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),zg=x("$ZodCheckMultipleOf",(e,t)=>{me.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Tm(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Ag=x("$ZodCheckNumberFormat",(e,t)=>{var s;me.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[o,i]=Om[t.format];e._zod.onattach.push(a=>{const c=a._zod.bag;c.format=t.format,c.minimum=o,c.maximum=i,n&&(c.pattern=wg)}),e._zod.check=a=>{const c=a.value;if(n){if(!Number.isInteger(c)){a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?a.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort}):a.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,inclusive:!0,continue:!t.abort});return}}c<o&&a.issues.push({origin:"number",input:c,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),c>i&&a.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inclusive:!0,inst:e,continue:!t.abort})}}),$g=x("$ZodCheckMaxLength",(e,t)=>{var n;me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Ur(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const s=Hr(o);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Sg=x("$ZodCheckMinLength",(e,t)=>{var n;me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Ur(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const s=Hr(o);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),Tg=x("$ZodCheckLengthEquals",(e,t)=>{var n;me.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Ur(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const s=Hr(o),a=i>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Fn=x("$ZodCheckStringFormat",(e,t)=>{var n,r;me.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),Ng=x("$ZodCheckRegex",(e,t)=>{Fn.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Eg=x("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=xg),Fn.init(e,t)}),Cg=x("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=kg),Fn.init(e,t)}),Rg=x("$ZodCheckIncludes",(e,t)=>{me.init(e,t);const n=Zn(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),Og=x("$ZodCheckStartsWith",(e,t)=>{me.init(e,t);const n=new RegExp(`^${Zn(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Mg=x("$ZodCheckEndsWith",(e,t)=>{me.init(e,t);const n=new RegExp(`.*${Zn(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Ig=x("$ZodCheckOverwrite",(e,t)=>{me.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Pg{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),o=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(const s of i)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const Zg={major:4,minor:3,patch:6},ne=x("$ZodType",(e,t)=>{var o;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Zg;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const s of i._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const i=(a,c,u)=>{let l=et(a),f;for(const h of c){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(l)continue;const d=a.issues.length,y=h._zod.check(a);if(y instanceof Promise&&(u==null?void 0:u.async)===!1)throw new it;if(f||y instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await y,a.issues.length!==d&&(l||(l=et(a,d)))});else{if(a.issues.length===d)continue;l||(l=et(a,d))}}return f?f.then(()=>a):a},s=(a,c,u)=>{if(et(a))return a.aborted=!0,a;const l=i(c,r,u);if(l instanceof Promise){if(u.async===!1)throw new it;return l.then(f=>e._zod.parse(f,u))}return e._zod.parse(l,u)};e._zod.run=(a,c)=>{if(c.skipChecks)return e._zod.parse(a,c);if(c.direction==="backward"){const l=e._zod.parse({value:a.value,issues:[]},{...c,skipChecks:!0});return l instanceof Promise?l.then(f=>s(f,a,c)):s(l,a,c)}const u=e._zod.parse(a,c);if(u instanceof Promise){if(c.async===!1)throw new it;return u.then(l=>i(l,r,c))}return i(u,r,c)}}Q(e,"~standard",()=>({validate:i=>{var s;try{const a=Um(e,i);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return Bm(e,i).then(c=>{var u;return c.success?{value:c.data}:{issues:(u=c.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}))}),Yr=x("$ZodString",(e,t)=>{var n;ne.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??_g(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),ee=x("$ZodStringFormat",(e,t)=>{Fn.init(e,t),Yr.init(e,t)}),Dg=x("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=sg),ee.init(e,t)}),jg=x("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Xo(r))}else t.pattern??(t.pattern=Xo());ee.init(e,t)}),Fg=x("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=ag),ee.init(e,t)}),Lg=x("$ZodURL",(e,t)=>{ee.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Vg=x("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ug()),ee.init(e,t)}),Ug=x("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=og),ee.init(e,t)}),Bg=x("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Qm),ee.init(e,t)}),Hg=x("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=eg),ee.init(e,t)}),Gg=x("$ZodULID",(e,t)=>{t.pattern??(t.pattern=tg),ee.init(e,t)}),Wg=x("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ng),ee.init(e,t)}),Yg=x("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=rg),ee.init(e,t)}),Jg=x("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=vg(t)),ee.init(e,t)}),Xg=x("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=gg),ee.init(e,t)}),qg=x("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=yg(t)),ee.init(e,t)}),Kg=x("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=ig),ee.init(e,t)}),Qg=x("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=lg),ee.init(e,t),e._zod.bag.format="ipv4"}),e0=x("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=fg),ee.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),t0=x("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=hg),ee.init(e,t)}),n0=x("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=dg),ee.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function na(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const r0=x("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=pg),ee.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{na(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function o0(e){if(!Xs.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return na(n)}const i0=x("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Xs),ee.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{o0(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),s0=x("$ZodE164",(e,t)=>{t.pattern??(t.pattern=mg),ee.init(e,t)});function a0(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const c0=x("$ZodJWT",(e,t)=>{ee.init(e,t),e._zod.check=n=>{a0(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),ra=x("$ZodNumber",(e,t)=>{ne.init(e,t),e._zod.pattern=e._zod.bag.pattern??bg,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),u0=x("$ZodNumberFormat",(e,t)=>{Ag.init(e,t),ra.init(e,t)}),l0=x("$ZodUnknown",(e,t)=>{ne.init(e,t),e._zod.parse=n=>n}),f0=x("$ZodNever",(e,t)=>{ne.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function qo(e,t,n){e.issues.length&&t.issues.push(...Gs(n,e.issues)),t.value[n]=e.value}const h0=x("$ZodArray",(e,t)=>{ne.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let s=0;s<o.length;s++){const a=o[s],c=t.element._zod.run({value:a,issues:[]},r);c instanceof Promise?i.push(c.then(u=>qo(u,n,s))):qo(c,n,s)}return i.length?Promise.all(i).then(()=>n):n}});function kn(e,t,n,r,o){if(e.issues.length){if(o&&!(n in r))return;t.issues.push(...Gs(n,e.issues))}e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function oa(e){var r,o,i,s;const t=Object.keys(e.shape);for(const a of t)if(!((s=(i=(o=(r=e.shape)==null?void 0:r[a])==null?void 0:o._zod)==null?void 0:i.traits)!=null&&s.has("$ZodType")))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const n=Rm(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function ia(e,t,n,r,o,i){const s=[],a=o.keySet,c=o.catchall._zod,u=c.def.type,l=c.optout==="optional";for(const f in t){if(a.has(f))continue;if(u==="never"){s.push(f);continue}const h=c.run({value:t[f],issues:[]},r);h instanceof Promise?e.push(h.then(d=>kn(d,n,f,t,l))):kn(h,n,f,t,l)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const d0=x("$ZodObject",(e,t)=>{ne.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const a=t.shape;Object.defineProperty(t,"shape",{get:()=>{const c={...a};return Object.defineProperty(t,"shape",{value:c}),c}})}const r=Vr(()=>oa(t));Q(e._zod,"propValues",()=>{const a=t.shape,c={};for(const u in a){const l=a[u]._zod;if(l.values){c[u]??(c[u]=new Set);for(const f of l.values)c[u].add(f)}}return c});const o=xn,i=t.catchall;let s;e._zod.parse=(a,c)=>{s??(s=r.value);const u=a.value;if(!o(u))return a.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),a;a.value={};const l=[],f=s.shape;for(const h of s.keys){const d=f[h],y=d._zod.optout==="optional",p=d._zod.run({value:u[h],issues:[]},c);p instanceof Promise?l.push(p.then(v=>kn(v,a,h,u,y))):kn(p,a,h,u,y)}return i?ia(l,u,a,c,r.value,e):l.length?Promise.all(l).then(()=>a):a}}),p0=x("$ZodObjectJIT",(e,t)=>{d0.init(e,t);const n=e._zod.parse,r=Vr(()=>oa(t)),o=h=>{var k;const d=new Pg(["shape","payload","ctx"]),y=r.value,p=z=>{const $=Jo(z);return`shape[${$}]._zod.run({ value: input[${$}], issues: [] }, ctx)`};d.write("const input = payload.value;");const v=Object.create(null);let m=0;for(const z of y.keys)v[z]=`key_${m++}`;d.write("const newResult = {};");for(const z of y.keys){const $=v[z],T=Jo(z),j=h[z],S=((k=j==null?void 0:j._zod)==null?void 0:k.optout)==="optional";d.write(`const ${$} = ${p(z)};`),S?d.write(`
        if (${$}.issues.length) {
          if (${T} in input) {
            payload.issues = payload.issues.concat(${$}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${T}, ...iss.path] : [${T}]
            })));
          }
        }
        
        if (${$}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${$}.value;
        }
        
      `):d.write(`
        if (${$}.issues.length) {
          payload.issues = payload.issues.concat(${$}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${T}, ...iss.path] : [${T}]
          })));
        }
        
        if (${$}.value === undefined) {
          if (${T} in input) {
            newResult[${T}] = undefined;
          }
        } else {
          newResult[${T}] = ${$}.value;
        }
        
      `)}d.write("payload.value = newResult;"),d.write("return payload;");const _=d.compile();return(z,$)=>_(h,z,$)};let i;const s=xn,a=!Vs.jitless,u=a&&Em.value,l=t.catchall;let f;e._zod.parse=(h,d)=>{f??(f=r.value);const y=h.value;return s(y)?a&&u&&(d==null?void 0:d.async)===!1&&d.jitless!==!0?(i||(i=o(t.shape)),h=i(h,d),l?ia([],y,h,d,f,e):h):n(h,d):(h.issues.push({expected:"object",code:"invalid_type",input:y,inst:e}),h)}});function Ko(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!et(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(s=>Ye(s,r,We())))}),t)}const m0=x("$ZodUnion",(e,t)=>{ne.init(e,t),Q(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Q(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Q(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),Q(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>Br(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1;const a=[];for(const c of t.options){const u=c._zod.run({value:o.value,issues:[]},i);if(u instanceof Promise)a.push(u),s=!0;else{if(u.issues.length===0)return u;a.push(u)}}return s?Promise.all(a).then(c=>Ko(c,o,e,i)):Ko(a,o,e,i)}}),g0=x("$ZodIntersection",(e,t)=>{ne.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),s=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([c,u])=>Qo(n,c,u)):Qo(n,i,s)}});function xr(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if($t(e)&&$t(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const s=xr(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],s=xr(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Qo(e,t,n){const r=new Map;let o;for(const a of t.issues)if(a.code==="unrecognized_keys"){o??(o=a);for(const c of a.keys)r.has(c)||r.set(c,{}),r.get(c).l=!0}else e.issues.push(a);for(const a of n.issues)if(a.code==="unrecognized_keys")for(const c of a.keys)r.has(c)||r.set(c,{}),r.get(c).r=!0;else e.issues.push(a);const i=[...r].filter(([,a])=>a.l&&a.r).map(([a])=>a);if(i.length&&o&&e.issues.push({...o,keys:i}),et(e))return e;const s=xr(t.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const y0=x("$ZodEnum",(e,t)=>{ne.init(e,t);const n=Us(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>Cm.has(typeof o)).map(o=>typeof o=="string"?Zn(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const s=o.value;return r.has(s)||o.issues.push({code:"invalid_value",values:n,input:s,inst:e}),o}}),v0=x("$ZodTransform",(e,t)=>{ne.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ls(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new it;return n.value=o,n}});function ei(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const sa=x("$ZodOptional",(e,t)=>{ne.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Q(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Q(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Br(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>ei(i,n.value)):ei(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),_0=x("$ZodExactOptional",(e,t)=>{sa.init(e,t),Q(e._zod,"values",()=>t.innerType._zod.values),Q(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,r)=>t.innerType._zod.run(n,r)}),w0=x("$ZodNullable",(e,t)=>{ne.init(e,t),Q(e._zod,"optin",()=>t.innerType._zod.optin),Q(e._zod,"optout",()=>t.innerType._zod.optout),Q(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Br(n.source)}|null)$`):void 0}),Q(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),b0=x("$ZodDefault",(e,t)=>{ne.init(e,t),e._zod.optin="optional",Q(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>ti(i,t)):ti(o,t)}});function ti(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const x0=x("$ZodPrefault",(e,t)=>{ne.init(e,t),e._zod.optin="optional",Q(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),k0=x("$ZodNonOptional",(e,t)=>{ne.init(e,t),Q(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>ni(i,e)):ni(o,e)}});function ni(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const z0=x("$ZodCatch",(e,t)=>{ne.init(e,t),Q(e._zod,"optin",()=>t.innerType._zod.optin),Q(e._zod,"optout",()=>t.innerType._zod.optout),Q(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>Ye(s,r,We()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Ye(i,r,We()))},input:n.value}),n.issues=[]),n)}}),A0=x("$ZodPipe",(e,t)=>{ne.init(e,t),Q(e._zod,"values",()=>t.in._zod.values),Q(e._zod,"optin",()=>t.in._zod.optin),Q(e._zod,"optout",()=>t.out._zod.optout),Q(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(s=>Yt(s,t.in,r)):Yt(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Yt(i,t.out,r)):Yt(o,t.out,r)}});function Yt(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const $0=x("$ZodReadonly",(e,t)=>{ne.init(e,t),Q(e._zod,"propValues",()=>t.innerType._zod.propValues),Q(e._zod,"values",()=>t.innerType._zod.values),Q(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),Q(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(ri):ri(o)}});function ri(e){return e.value=Object.freeze(e.value),e}const S0=x("$ZodCustom",(e,t)=>{me.init(e,t),ne.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>oi(i,n,r,e));oi(o,n,r,e)}});function oi(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(St(o))}}var ii;class T0{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];return this._map.set(t,r),r&&typeof r=="object"&&"id"in r&&this._idmap.set(r.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function N0(){return new T0}(ii=globalThis).__zod_globalRegistry??(ii.__zod_globalRegistry=N0());const wt=globalThis.__zod_globalRegistry;function E0(e,t){return new e({type:"string",...V(t)})}function C0(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...V(t)})}function si(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...V(t)})}function R0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...V(t)})}function O0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...V(t)})}function M0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...V(t)})}function I0(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...V(t)})}function P0(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...V(t)})}function Z0(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...V(t)})}function D0(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...V(t)})}function j0(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...V(t)})}function F0(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...V(t)})}function L0(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...V(t)})}function V0(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...V(t)})}function U0(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...V(t)})}function B0(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...V(t)})}function H0(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...V(t)})}function G0(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...V(t)})}function W0(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...V(t)})}function Y0(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...V(t)})}function J0(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...V(t)})}function X0(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...V(t)})}function q0(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...V(t)})}function K0(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...V(t)})}function Q0(e,t){return new e({type:"string",format:"date",check:"string_format",...V(t)})}function ey(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...V(t)})}function ty(e,t){return new e({type:"string",format:"duration",check:"string_format",...V(t)})}function ny(e,t){return new e({type:"number",checks:[],...V(t)})}function ry(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...V(t)})}function oy(e){return new e({type:"unknown"})}function iy(e,t){return new e({type:"never",...V(t)})}function ai(e,t){return new ea({check:"less_than",...V(t),value:e,inclusive:!1})}function nr(e,t){return new ea({check:"less_than",...V(t),value:e,inclusive:!0})}function ci(e,t){return new ta({check:"greater_than",...V(t),value:e,inclusive:!1})}function rr(e,t){return new ta({check:"greater_than",...V(t),value:e,inclusive:!0})}function ui(e,t){return new zg({check:"multiple_of",...V(t),value:e})}function aa(e,t){return new $g({check:"max_length",...V(t),maximum:e})}function zn(e,t){return new Sg({check:"min_length",...V(t),minimum:e})}function ca(e,t){return new Tg({check:"length_equals",...V(t),length:e})}function sy(e,t){return new Ng({check:"string_format",format:"regex",...V(t),pattern:e})}function ay(e){return new Eg({check:"string_format",format:"lowercase",...V(e)})}function cy(e){return new Cg({check:"string_format",format:"uppercase",...V(e)})}function uy(e,t){return new Rg({check:"string_format",format:"includes",...V(t),includes:e})}function ly(e,t){return new Og({check:"string_format",format:"starts_with",...V(t),prefix:e})}function fy(e,t){return new Mg({check:"string_format",format:"ends_with",...V(t),suffix:e})}function ht(e){return new Ig({check:"overwrite",tx:e})}function hy(e){return ht(t=>t.normalize(e))}function dy(){return ht(e=>e.trim())}function py(){return ht(e=>e.toLowerCase())}function my(){return ht(e=>e.toUpperCase())}function gy(){return ht(e=>Nm(e))}function yy(e,t,n){return new e({type:"array",element:t,...V(n)})}function vy(e,t,n){return new e({type:"custom",check:"custom",fn:t,...V(n)})}function _y(e){const t=wy(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(St(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(St(o))}},e(n.value,n)));return t}function wy(e,t){const n=new me({check:"custom",...V(t)});return n._zod.check=e,n}function ua(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??wt,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function ae(e,t,n={path:[],schemaPath:[]}){var l,f;var r;const o=e._zod.def,i=t.seen.get(e);if(i)return i.count++,n.schemaPath.includes(e)&&(i.cycle=n.path),i.schema;const s={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,s);const a=(f=(l=e._zod).toJSONSchema)==null?void 0:f.call(l);if(a)s.schema=a;else{const h={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,s.schema,h);else{const y=s.schema,p=t.processors[o.type];if(!p)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${o.type}`);p(e,t,y,h)}const d=e._zod.parent;d&&(s.ref||(s.ref=d),ae(d,t,h),t.seen.get(d).isParent=!0)}const c=t.metadataRegistry.get(e);return c&&Object.assign(s.schema,c),t.io==="input"&&he(e)&&(delete s.schema.examples,delete s.schema.default),t.io==="input"&&s.schema._prefault&&((r=s.schema).default??(r.default=s.schema._prefault)),delete s.schema._prefault,t.seen.get(e).schema}function la(e,t){var s,a,c,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=new Map;for(const l of e.seen.entries()){const f=(s=e.metadataRegistry.get(l[0]))==null?void 0:s.id;if(f){const h=r.get(f);if(h&&h!==l[0])throw new Error(`Duplicate schema id "${f}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);r.set(f,l[0])}}const o=l=>{var p;const f=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const v=(p=e.external.registry.get(l[0]))==null?void 0:p.id,m=e.external.uri??(k=>k);if(v)return{ref:m(v)};const _=l[1].defId??l[1].schema.id??`schema${e.counter++}`;return l[1].defId=_,{defId:_,ref:`${m("__shared")}#/${f}/${_}`}}if(l[1]===n)return{ref:"#"};const d=`#/${f}/`,y=l[1].schema.id??`__schema${e.counter++}`;return{defId:y,ref:d+y}},i=l=>{if(l[1].schema.$ref)return;const f=l[1],{ref:h,defId:d}=o(l);f.def={...f.schema},d&&(f.defId=d);const y=f.schema;for(const p in y)delete y[p];y.$ref=h};if(e.cycles==="throw")for(const l of e.seen.entries()){const f=l[1];if(f.cycle)throw new Error(`Cycle detected: #/${(a=f.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const l of e.seen.entries()){const f=l[1];if(t===l[0]){i(l);continue}if(e.external){const d=(c=e.external.registry.get(l[0]))==null?void 0:c.id;if(t!==l[0]&&d){i(l);continue}}if((u=e.metadataRegistry.get(l[0]))==null?void 0:u.id){i(l);continue}if(f.cycle){i(l);continue}if(f.count>1&&e.reused==="ref"){i(l);continue}}}function fa(e,t){var s,a,c;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const l=e.seen.get(u);if(l.ref===null)return;const f=l.def??l.schema,h={...f},d=l.ref;if(l.ref=null,d){r(d);const p=e.seen.get(d),v=p.schema;if(v.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(v)):Object.assign(f,v),Object.assign(f,h),u._zod.parent===d)for(const _ in f)_==="$ref"||_==="allOf"||_ in h||delete f[_];if(v.$ref&&p.def)for(const _ in f)_==="$ref"||_==="allOf"||_ in p.def&&JSON.stringify(f[_])===JSON.stringify(p.def[_])&&delete f[_]}const y=u._zod.parent;if(y&&y!==d){r(y);const p=e.seen.get(y);if(p!=null&&p.schema.$ref&&(f.$ref=p.schema.$ref,p.def))for(const v in f)v==="$ref"||v==="allOf"||v in p.def&&JSON.stringify(f[v])===JSON.stringify(p.def[v])&&delete f[v]}e.override({zodSchema:u,jsonSchema:f,path:l.path??[]})};for(const u of[...e.seen.entries()].reverse())r(u[0]);const o={};if(e.target==="draft-2020-12"?o.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?o.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?o.$schema="http://json-schema.org/draft-04/schema#":e.target,(s=e.external)!=null&&s.uri){const u=(a=e.external.registry.get(t))==null?void 0:a.id;if(!u)throw new Error("Schema is missing an `id` property");o.$id=e.external.uri(u)}Object.assign(o,n.def??n.schema);const i=((c=e.external)==null?void 0:c.defs)??{};for(const u of e.seen.entries()){const l=u[1];l.def&&l.defId&&(i[l.defId]=l.def)}e.external||Object.keys(i).length>0&&(e.target==="draft-2020-12"?o.$defs=i:o.definitions=i);try{const u=JSON.parse(JSON.stringify(o));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:An(t,"input",e.processors),output:An(t,"output",e.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function he(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return he(r.element,n);if(r.type==="set")return he(r.valueType,n);if(r.type==="lazy")return he(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return he(r.innerType,n);if(r.type==="intersection")return he(r.left,n)||he(r.right,n);if(r.type==="record"||r.type==="map")return he(r.keyType,n)||he(r.valueType,n);if(r.type==="pipe")return he(r.in,n)||he(r.out,n);if(r.type==="object"){for(const o in r.shape)if(he(r.shape[o],n))return!0;return!1}if(r.type==="union"){for(const o of r.options)if(he(o,n))return!0;return!1}if(r.type==="tuple"){for(const o of r.items)if(he(o,n))return!0;return!!(r.rest&&he(r.rest,n))}return!1}const by=(e,t={})=>n=>{const r=ua({...n,processors:t});return ae(e,r),la(r,e),fa(r,e)},An=(e,t,n={})=>r=>{const{libraryOptions:o,target:i}=r??{},s=ua({...o??{},target:i,io:t,processors:n});return ae(e,s),la(s,e),fa(s,e)},xy={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},ky=(e,t,n,r)=>{const o=n;o.type="string";const{minimum:i,maximum:s,format:a,patterns:c,contentEncoding:u}=e._zod.bag;if(typeof i=="number"&&(o.minLength=i),typeof s=="number"&&(o.maxLength=s),a&&(o.format=xy[a]??a,o.format===""&&delete o.format,a==="time"&&delete o.format),u&&(o.contentEncoding=u),c&&c.size>0){const l=[...c];l.length===1?o.pattern=l[0].source:l.length>1&&(o.allOf=[...l.map(f=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},zy=(e,t,n,r)=>{const o=n,{minimum:i,maximum:s,format:a,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:l}=e._zod.bag;typeof a=="string"&&a.includes("int")?o.type="integer":o.type="number",typeof l=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.minimum=l,o.exclusiveMinimum=!0):o.exclusiveMinimum=l),typeof i=="number"&&(o.minimum=i,typeof l=="number"&&t.target!=="draft-04"&&(l>=i?delete o.minimum:delete o.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(o.maximum=u,o.exclusiveMaximum=!0):o.exclusiveMaximum=u),typeof s=="number"&&(o.maximum=s,typeof u=="number"&&t.target!=="draft-04"&&(u<=s?delete o.maximum:delete o.exclusiveMaximum)),typeof c=="number"&&(o.multipleOf=c)},Ay=(e,t,n,r)=>{n.not={}},$y=(e,t,n,r)=>{},Sy=(e,t,n,r)=>{const o=e._zod.def,i=Us(o.entries);i.every(s=>typeof s=="number")&&(n.type="number"),i.every(s=>typeof s=="string")&&(n.type="string"),n.enum=i},Ty=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Ny=(e,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Ey=(e,t,n,r)=>{const o=n,i=e._zod.def,{minimum:s,maximum:a}=e._zod.bag;typeof s=="number"&&(o.minItems=s),typeof a=="number"&&(o.maxItems=a),o.type="array",o.items=ae(i.element,t,{...r,path:[...r.path,"items"]})},Cy=(e,t,n,r)=>{var u;const o=n,i=e._zod.def;o.type="object",o.properties={};const s=i.shape;for(const l in s)o.properties[l]=ae(s[l],t,{...r,path:[...r.path,"properties",l]});const a=new Set(Object.keys(s)),c=new Set([...a].filter(l=>{const f=i.shape[l]._zod;return t.io==="input"?f.optin===void 0:f.optout===void 0}));c.size>0&&(o.required=Array.from(c)),((u=i.catchall)==null?void 0:u._zod.def.type)==="never"?o.additionalProperties=!1:i.catchall?i.catchall&&(o.additionalProperties=ae(i.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(o.additionalProperties=!1)},Ry=(e,t,n,r)=>{const o=e._zod.def,i=o.inclusive===!1,s=o.options.map((a,c)=>ae(a,t,{...r,path:[...r.path,i?"oneOf":"anyOf",c]}));i?n.oneOf=s:n.anyOf=s},Oy=(e,t,n,r)=>{const o=e._zod.def,i=ae(o.left,t,{...r,path:[...r.path,"allOf",0]}),s=ae(o.right,t,{...r,path:[...r.path,"allOf",1]}),a=u=>"allOf"in u&&Object.keys(u).length===1,c=[...a(i)?i.allOf:[i],...a(s)?s.allOf:[s]];n.allOf=c},My=(e,t,n,r)=>{const o=e._zod.def,i=ae(o.innerType,t,r),s=t.seen.get(e);t.target==="openapi-3.0"?(s.ref=o.innerType,n.nullable=!0):n.anyOf=[i,{type:"null"}]},Iy=(e,t,n,r)=>{const o=e._zod.def;ae(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},Py=(e,t,n,r)=>{const o=e._zod.def;ae(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.default=JSON.parse(JSON.stringify(o.defaultValue))},Zy=(e,t,n,r)=>{const o=e._zod.def;ae(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(o.defaultValue)))},Dy=(e,t,n,r)=>{const o=e._zod.def;ae(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType;let s;try{s=o.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=s},jy=(e,t,n,r)=>{const o=e._zod.def,i=t.io==="input"?o.in._zod.def.type==="transform"?o.out:o.in:o.out;ae(i,t,r);const s=t.seen.get(e);s.ref=i},Fy=(e,t,n,r)=>{const o=e._zod.def;ae(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType,n.readOnly=!0},ha=(e,t,n,r)=>{const o=e._zod.def;ae(o.innerType,t,r);const i=t.seen.get(e);i.ref=o.innerType},Ly=x("ZodISODateTime",(e,t)=>{Jg.init(e,t),te.init(e,t)});function Vy(e){return K0(Ly,e)}const Uy=x("ZodISODate",(e,t)=>{Xg.init(e,t),te.init(e,t)});function By(e){return Q0(Uy,e)}const Hy=x("ZodISOTime",(e,t)=>{qg.init(e,t),te.init(e,t)});function Gy(e){return ey(Hy,e)}const Wy=x("ZodISODuration",(e,t)=>{Kg.init(e,t),te.init(e,t)});function Yy(e){return ty(Wy,e)}const Jy=(e,t)=>{Ys.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Vm(e,n)},flatten:{value:n=>Lm(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,br,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,br,2)}},isEmpty:{get(){return e.issues.length===0}}})},ye=x("ZodError",Jy,{Parent:Error}),Xy=Gr(ye),qy=Wr(ye),Ky=Dn(ye),Qy=jn(ye),ev=Hm(ye),tv=Gm(ye),nv=Wm(ye),rv=Ym(ye),ov=Jm(ye),iv=Xm(ye),sv=qm(ye),av=Km(ye),re=x("ZodType",(e,t)=>(ne.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:An(e,"input"),output:An(e,"output")}}),e.toJSONSchema=by(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(je(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),{parent:!0}),e.with=e.check,e.clone=(n,r)=>Fe(e,n,r),e.brand=()=>e,e.register=((n,r)=>(n.add(e,r),e)),e.parse=(n,r)=>Xy(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>Ky(e,n,r),e.parseAsync=async(n,r)=>qy(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>Qy(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>ev(e,n,r),e.decode=(n,r)=>tv(e,n,r),e.encodeAsync=async(n,r)=>nv(e,n,r),e.decodeAsync=async(n,r)=>rv(e,n,r),e.safeEncode=(n,r)=>ov(e,n,r),e.safeDecode=(n,r)=>iv(e,n,r),e.safeEncodeAsync=async(n,r)=>sv(e,n,r),e.safeDecodeAsync=async(n,r)=>av(e,n,r),e.refine=(n,r)=>e.check(Qv(n,r)),e.superRefine=n=>e.check(e_(n)),e.overwrite=n=>e.check(ht(n)),e.optional=()=>di(e),e.exactOptional=()=>Fv(e),e.nullable=()=>pi(e),e.nullish=()=>di(pi(e)),e.nonoptional=n=>Gv(e,n),e.array=()=>Ot(e),e.or=n=>Ov([e,n]),e.and=n=>Iv(e,n),e.transform=n=>mi(e,Dv(n)),e.default=n=>Uv(e,n),e.prefault=n=>Hv(e,n),e.catch=n=>Yv(e,n),e.pipe=n=>mi(e,n),e.readonly=()=>qv(e),e.describe=n=>{const r=e.clone();return wt.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=wt.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return wt.get(e);const r=e.clone();return wt.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),da=x("_ZodString",(e,t)=>{Yr.init(e,t),re.init(e,t),e._zod.processJSONSchema=(r,o,i)=>ky(e,r,o);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(sy(...r)),e.includes=(...r)=>e.check(uy(...r)),e.startsWith=(...r)=>e.check(ly(...r)),e.endsWith=(...r)=>e.check(fy(...r)),e.min=(...r)=>e.check(zn(...r)),e.max=(...r)=>e.check(aa(...r)),e.length=(...r)=>e.check(ca(...r)),e.nonempty=(...r)=>e.check(zn(1,...r)),e.lowercase=r=>e.check(ay(r)),e.uppercase=r=>e.check(cy(r)),e.trim=()=>e.check(dy()),e.normalize=(...r)=>e.check(hy(...r)),e.toLowerCase=()=>e.check(py()),e.toUpperCase=()=>e.check(my()),e.slugify=()=>e.check(gy())}),cv=x("ZodString",(e,t)=>{Yr.init(e,t),da.init(e,t),e.email=n=>e.check(C0(uv,n)),e.url=n=>e.check(P0(lv,n)),e.jwt=n=>e.check(q0(Av,n)),e.emoji=n=>e.check(Z0(fv,n)),e.guid=n=>e.check(si(li,n)),e.uuid=n=>e.check(R0(Jt,n)),e.uuidv4=n=>e.check(O0(Jt,n)),e.uuidv6=n=>e.check(M0(Jt,n)),e.uuidv7=n=>e.check(I0(Jt,n)),e.nanoid=n=>e.check(D0(hv,n)),e.guid=n=>e.check(si(li,n)),e.cuid=n=>e.check(j0(dv,n)),e.cuid2=n=>e.check(F0(pv,n)),e.ulid=n=>e.check(L0(mv,n)),e.base64=n=>e.check(Y0(xv,n)),e.base64url=n=>e.check(J0(kv,n)),e.xid=n=>e.check(V0(gv,n)),e.ksuid=n=>e.check(U0(yv,n)),e.ipv4=n=>e.check(B0(vv,n)),e.ipv6=n=>e.check(H0(_v,n)),e.cidrv4=n=>e.check(G0(wv,n)),e.cidrv6=n=>e.check(W0(bv,n)),e.e164=n=>e.check(X0(zv,n)),e.datetime=n=>e.check(Vy(n)),e.date=n=>e.check(By(n)),e.time=n=>e.check(Gy(n)),e.duration=n=>e.check(Yy(n))});function Tt(e){return E0(cv,e)}const te=x("ZodStringFormat",(e,t)=>{ee.init(e,t),da.init(e,t)}),uv=x("ZodEmail",(e,t)=>{Fg.init(e,t),te.init(e,t)}),li=x("ZodGUID",(e,t)=>{Dg.init(e,t),te.init(e,t)}),Jt=x("ZodUUID",(e,t)=>{jg.init(e,t),te.init(e,t)}),lv=x("ZodURL",(e,t)=>{Lg.init(e,t),te.init(e,t)}),fv=x("ZodEmoji",(e,t)=>{Vg.init(e,t),te.init(e,t)}),hv=x("ZodNanoID",(e,t)=>{Ug.init(e,t),te.init(e,t)}),dv=x("ZodCUID",(e,t)=>{Bg.init(e,t),te.init(e,t)}),pv=x("ZodCUID2",(e,t)=>{Hg.init(e,t),te.init(e,t)}),mv=x("ZodULID",(e,t)=>{Gg.init(e,t),te.init(e,t)}),gv=x("ZodXID",(e,t)=>{Wg.init(e,t),te.init(e,t)}),yv=x("ZodKSUID",(e,t)=>{Yg.init(e,t),te.init(e,t)}),vv=x("ZodIPv4",(e,t)=>{Qg.init(e,t),te.init(e,t)}),_v=x("ZodIPv6",(e,t)=>{e0.init(e,t),te.init(e,t)}),wv=x("ZodCIDRv4",(e,t)=>{t0.init(e,t),te.init(e,t)}),bv=x("ZodCIDRv6",(e,t)=>{n0.init(e,t),te.init(e,t)}),xv=x("ZodBase64",(e,t)=>{r0.init(e,t),te.init(e,t)}),kv=x("ZodBase64URL",(e,t)=>{i0.init(e,t),te.init(e,t)}),zv=x("ZodE164",(e,t)=>{s0.init(e,t),te.init(e,t)}),Av=x("ZodJWT",(e,t)=>{c0.init(e,t),te.init(e,t)}),pa=x("ZodNumber",(e,t)=>{ra.init(e,t),re.init(e,t),e._zod.processJSONSchema=(r,o,i)=>zy(e,r,o),e.gt=(r,o)=>e.check(ci(r,o)),e.gte=(r,o)=>e.check(rr(r,o)),e.min=(r,o)=>e.check(rr(r,o)),e.lt=(r,o)=>e.check(ai(r,o)),e.lte=(r,o)=>e.check(nr(r,o)),e.max=(r,o)=>e.check(nr(r,o)),e.int=r=>e.check(fi(r)),e.safe=r=>e.check(fi(r)),e.positive=r=>e.check(ci(0,r)),e.nonnegative=r=>e.check(rr(0,r)),e.negative=r=>e.check(ai(0,r)),e.nonpositive=r=>e.check(nr(0,r)),e.multipleOf=(r,o)=>e.check(ui(r,o)),e.step=(r,o)=>e.check(ui(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function xe(e){return ny(pa,e)}const $v=x("ZodNumberFormat",(e,t)=>{u0.init(e,t),pa.init(e,t)});function fi(e){return ry($v,e)}const Sv=x("ZodUnknown",(e,t)=>{l0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>$y()});function hi(){return oy(Sv)}const Tv=x("ZodNever",(e,t)=>{f0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Ay(e,n,r)});function Nv(e){return iy(Tv,e)}const Ev=x("ZodArray",(e,t)=>{h0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Ey(e,n,r,o),e.element=t.element,e.min=(n,r)=>e.check(zn(n,r)),e.nonempty=n=>e.check(zn(1,n)),e.max=(n,r)=>e.check(aa(n,r)),e.length=(n,r)=>e.check(ca(n,r)),e.unwrap=()=>e.element});function Ot(e,t){return yy(Ev,e,t)}const Cv=x("ZodObject",(e,t)=>{p0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Cy(e,n,r,o),Q(e,"shape",()=>t.shape),e.keyof=()=>Pv(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:hi()}),e.loose=()=>e.clone({...e._zod.def,catchall:hi()}),e.strict=()=>e.clone({...e._zod.def,catchall:Nv()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>Pm(e,n),e.safeExtend=n=>Zm(e,n),e.merge=n=>Dm(e,n),e.pick=n=>Mm(e,n),e.omit=n=>Im(e,n),e.partial=(...n)=>jm(ma,e,n[0]),e.required=(...n)=>Fm(ga,e,n[0])});function dt(e,t){const n={type:"object",shape:e??{},...V(t)};return new Cv(n)}const Rv=x("ZodUnion",(e,t)=>{m0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Ry(e,n,r,o),e.options=t.options});function Ov(e,t){return new Rv({type:"union",options:e,...V(t)})}const Mv=x("ZodIntersection",(e,t)=>{g0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Oy(e,n,r,o)});function Iv(e,t){return new Mv({type:"intersection",left:e,right:t})}const kr=x("ZodEnum",(e,t)=>{y0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(r,o,i)=>Sy(e,r,o),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const s of r)if(n.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new kr({...t,checks:[],...V(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const s of r)if(n.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new kr({...t,checks:[],...V(o),entries:i})}});function Pv(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new kr({type:"enum",entries:n,...V(t)})}const Zv=x("ZodTransform",(e,t)=>{v0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Ny(e,n),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Ls(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(St(i,n.value,t));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(St(s))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function Dv(e){return new Zv({type:"transform",transform:e})}const ma=x("ZodOptional",(e,t)=>{sa.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>ha(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function di(e){return new ma({type:"optional",innerType:e})}const jv=x("ZodExactOptional",(e,t)=>{_0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>ha(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Fv(e){return new jv({type:"optional",innerType:e})}const Lv=x("ZodNullable",(e,t)=>{w0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>My(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function pi(e){return new Lv({type:"nullable",innerType:e})}const Vv=x("ZodDefault",(e,t)=>{b0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Py(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Uv(e,t){return new Vv({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Hs(t)}})}const Bv=x("ZodPrefault",(e,t)=>{x0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Zy(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Hv(e,t){return new Bv({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Hs(t)}})}const ga=x("ZodNonOptional",(e,t)=>{k0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Iy(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function Gv(e,t){return new ga({type:"nonoptional",innerType:e,...V(t)})}const Wv=x("ZodCatch",(e,t)=>{z0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Dy(e,n,r,o),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Yv(e,t){return new Wv({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Jv=x("ZodPipe",(e,t)=>{A0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>jy(e,n,r,o),e.in=t.in,e.out=t.out});function mi(e,t){return new Jv({type:"pipe",in:e,out:t})}const Xv=x("ZodReadonly",(e,t)=>{$0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Fy(e,n,r,o),e.unwrap=()=>e._zod.def.innerType});function qv(e){return new Xv({type:"readonly",innerType:e})}const Kv=x("ZodCustom",(e,t)=>{S0.init(e,t),re.init(e,t),e._zod.processJSONSchema=(n,r,o)=>Ty(e,n)});function Qv(e,t={}){return vy(Kv,e,t)}function e_(e){return _y(e)}const b_="https://storage.googleapis.com/ccw-tw-prod/json/budget/by-department_latest.json",x_="https://storage.googleapis.com/ccw-tw-prod/json/budget/by-legislator_latest.json",ya=dt({budgetYearId:Tt(),year:xe()}),$n=dt({reductionAmount:xe(),reductionCount:xe(),freezeAmount:xe(),freezeCount:xe(),otherCount:xe()}),t_=dt({governmentId:Tt(),name:Tt(),reductionAmount:xe(),reductionCount:xe(),freezeAmount:xe(),freezeCount:xe(),otherCount:xe()}),n_=dt({peopleId:Tt(),name:Tt(),proposerOnly:$n,allInvolved:$n}),r_=dt({yearInfo:ya,overall:$n,departments:Ot(t_)}),k_=Ot(r_),o_=dt({yearInfo:ya,overall:$n,legislators:Ot(n_)}),z_=Ot(o_);export{h_ as B,w_ as C,Gn as G,g_ as P,p_ as S,Cu as V,d_ as a,y_ as b,x_ as c,z_ as d,b_ as e,an as f,Ru as g,k_ as h,v_ as i,m_ as m,__ as t,qr as u};

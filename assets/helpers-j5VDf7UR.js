import{P as u}from"./gql-B-mwqB7Q.js";const d={budget_review:"預算審議",budget_unfreeze:"預算解凍"};function c(e,t="階段"){return e?d[e]??t:t}function l(e){if(!e||e.length===0)return"未分類";const t={[u.Freeze]:"凍結",[u.Reduce]:"減列",[u.Other]:"其他"};return e.map(r=>t[r]||r).join("、")}function m(e){return e?{passed:"通過",rejected:"不通過",pending:"待審議",reserved:"保留"}[e]||e:"待審議"}function s(e){if(e==null)return"無預算金額";if(e===0)return"0";if(Math.abs(e)<1e4)return e.toLocaleString("zh-TW");const t=(i,f)=>{const o=i.toFixed(1);return`${o.endsWith(".0")?o.slice(0,-2):o} ${f}`},r=e/1e8;if(Math.abs(r)>=1)return t(r,"億");const n=e/1e4;return t(n,"萬")}function z(e,t){const r=e?s(e):"0",n=t?s(t):"0";return r==="0"&&n==="0"?"0":`${r} / ${n}`}function T(e,t){if(!e||e.length===0)return[];const r=new Map;return(t??[]).forEach(n=>{n!=null&&n.id&&(n.meetings??[]).forEach(i=>{i!=null&&i.id&&r.set(i.id,n.id)})}),e.map((n,i)=>({id:n.id||i,date:n.meetingDate?new Date(n.meetingDate).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}):"日期未定",title:c(n.type,"會議"),historicalProposalId:n.id?r.get(n.id):void 0,description:n.description||n.location||""}))}function b(e,t){const r=[];return t!=null&&t.id&&r.push({raw:t,isParent:!0}),e&&e.length>0&&e.forEach(n=>{n!=null&&n.id&&r.push({raw:n,isParent:!1})}),r.length===0?[]:r.map(({raw:n,isParent:i},f)=>{var o;return{id:(n==null?void 0:n.id)??`unknown-${f}`,date:"2025/08/01",proposers:((o=n==null?void 0:n.proposers)==null?void 0:o.map(a=>a==null?void 0:a.name).filter(Boolean).join("、"))||"未知",isParent:i}})}function g(e,t,r){const n=[e,t,r].filter(Boolean);return n.length===0?"暫無科目計畫":n.join(" > ")}function y(e){var n,i;if(!e)return!1;const t=!!((n=e.mergedParentProposals)!=null&&n.id),r=(((i=e.mergedProposals)==null?void 0:i.length)??0)>0;return t||r}function D(e){var t;return e?!!((t=e.historicalParentProposals)!=null&&t.id):!1}export{z as a,T as b,b as c,m as d,g as e,s as f,l as g,y as h,D as i,c as m};

import{P as u}from"./gql-lnTnoR53.js";const d={budget_review:"預算審議",budget_unfreeze:"預算解凍"};function c(n,e="階段"){return n?d[n]??e:e}function l(n){if(!n||n.length===0)return"未分類";const e={[u.Freeze]:"凍結",[u.Reduce]:"減列",[u.Other]:"其他"};return n.map(r=>e[r]||r).join("、")}function m(n){return n?{passed:"通過",rejected:"不通過",pending:"待審議"}[n]||n:"待審議"}function s(n){if(n==null)return"無預算金額";if(n===0)return"0";if(Math.abs(n)<1e4)return n.toLocaleString("zh-TW");const e=(i,f)=>{const o=i.toFixed(1);return`${o.endsWith(".0")?o.slice(0,-2):o} ${f}`},r=n/1e8;if(Math.abs(r)>=1)return e(r,"億");const t=n/1e4;return e(t,"萬")}function g(n,e){const r=n?s(n):"0",t=e?s(e):"0";return r==="0"&&t==="0"?"0":`${r} / ${t}`}function z(n,e){if(!n||n.length===0)return[];const r=new Map;return(e??[]).forEach(t=>{t!=null&&t.id&&(t.meetings??[]).forEach(i=>{i!=null&&i.id&&r.set(i.id,t.id)})}),n.map((t,i)=>({id:t.id||i,date:t.meetingDate?new Date(t.meetingDate).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}):"日期未定",title:c(t.type,"會議"),historicalProposalId:t.id?r.get(t.id):void 0,description:t.description||t.location||""}))}function T(n,e){const r=[];return e!=null&&e.id&&r.push({raw:e,isParent:!0}),n&&n.length>0&&n.forEach(t=>{t!=null&&t.id&&r.push({raw:t,isParent:!1})}),r.length===0?[]:r.map(({raw:t,isParent:i},f)=>{var o;return{id:(t==null?void 0:t.id)??`unknown-${f}`,date:"2025/08/01",proposers:((o=t==null?void 0:t.proposers)==null?void 0:o.map(a=>a==null?void 0:a.name).filter(Boolean).join("、"))||"未知",isParent:i}})}function b(n,e,r){const t=[n,e,r].filter(Boolean);return t.length===0?"暫無科目計畫":t.join(" > ")}function y(n){var t,i;if(!n)return!1;const e=!!((t=n.mergedParentProposals)!=null&&t.id),r=(((i=n.mergedProposals)==null?void 0:i.length)??0)>0;return e||r}function D(n){var e,r;return n?(console.log((e=n.historicalParentProposals)==null?void 0:e.id),!!((r=n.historicalParentProposals)!=null&&r.id)):!1}export{g as a,z as b,T as c,m as d,b as e,s as f,l as g,y as h,D as i,c as m};

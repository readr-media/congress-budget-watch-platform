import{B as O,a as p}from"./chunk-4WY6JWTD-CgHlDcFV.js";import{P as C}from"./gql-eqnbwCfF.js";var R,z;function ee(){if(z)return R;z=1;var e="Expected a function",n=NaN,i="[object Symbol]",t=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,s=parseInt,F=typeof O=="object"&&O&&O.Object===Object&&O,P=typeof self=="object"&&self&&self.Object===Object&&self,H=F||P||Function("return this")(),N=Object.prototype,G=N.toString,U=Math.max,V=Math.min,S=function(){return H.Date.now()};function Q(r,c,l){var b,y,T,h,d,g,v=0,k=!1,E=!1,M=!0;if(typeof r!="function")throw new TypeError(e);c=W(c)||0,I(l)&&(k=!!l.leading,E="maxWait"in l,T=E?U(W(l.maxWait)||0,c):T,M="trailing"in l?!!l.trailing:M);function x(a){var m=b,L=y;return b=y=void 0,v=a,h=r.apply(L,m),h}function J(a){return v=a,d=setTimeout(j,c),k?x(a):h}function K(a){var m=a-g,L=a-v,$=c-m;return E?V($,T-L):$}function B(a){var m=a-g,L=a-v;return g===void 0||m>=c||m<0||E&&L>=T}function j(){var a=S();if(B(a))return _(a);d=setTimeout(j,K(a))}function _(a){return d=void 0,M&&b?x(a):(b=y=void 0,h)}function Z(){d!==void 0&&clearTimeout(d),v=0,b=g=y=d=void 0}function q(){return d===void 0?h:_(S())}function w(){var a=S(),m=B(a);if(b=arguments,y=this,g=a,m){if(d===void 0)return J(g);if(E)return d=setTimeout(j,c),x(g)}return d===void 0&&(d=setTimeout(j,c)),h}return w.cancel=Z,w.flush=q,w}function I(r){var c=typeof r;return!!r&&(c=="object"||c=="function")}function X(r){return!!r&&typeof r=="object"}function Y(r){return typeof r=="symbol"||X(r)&&G.call(r)==i}function W(r){if(typeof r=="number")return r;if(Y(r))return n;if(I(r)){var c=typeof r.valueOf=="function"?r.valueOf():r;r=I(c)?c+"":c}if(typeof r!="string")return r===0?r:+r;r=r.replace(t,"");var l=u.test(r);return l||f.test(r)?s(r.slice(2),l?2:8):o.test(r)?n:+r}return R=Q,R}ee();var D=typeof window<"u"?p.useLayoutEffect:p.useEffect;function te(e,n,i,t){const o=p.useRef(n);D(()=>{o.current=n},[n]),p.useEffect(()=>{const u=window;if(!(u&&u.addEventListener))return;const f=s=>{o.current(s)};return u.addEventListener(e,f,t),()=>{u.removeEventListener(e,f,t)}},[e,i,t])}var ne=typeof window>"u";function se(e,{defaultValue:n=!1,initializeWithValue:i=!0}={}){const t=s=>ne?n:window.matchMedia(s).matches,[o,u]=p.useState(()=>i?t(e):n);function f(){u(t(e))}return D(()=>{const s=window.matchMedia(e);return f(),s.addListener?s.addListener(f):s.addEventListener("change",f),()=>{s.removeListener?s.removeListener(f):s.removeEventListener("change",f)}},[e]),o}function ue(e,n,i="mousedown",t={}){te(i,o=>{const u=o.target;if(!u||!u.isConnected)return;(Array.isArray(e)?e.filter(s=>!!s.current).every(s=>s.current&&!s.current.contains(u)):e.current&&!e.current.contains(u))&&n(o)},void 0,t)}function fe(e){const[n,i]=p.useState(!1),t=p.useCallback(()=>{i(o=>!o)},[]);return[n,t,i]}const re={budget_review:"預算審議",budget_unfreeze:"預算解凍"};function ie(e,n="階段"){return e?re[e]??n:n}function ce(e){if(!e||e.length===0)return"未分類";const n={[C.Freeze]:"凍結",[C.Reduce]:"減列",[C.Other]:"其他"};return e.map(i=>n[i]||i).join("、")}function de(e){return e?{passed:"通過",rejected:"不通過",pending:"待審議"}[e]||e:"待審議"}function A(e){if(e==null)return"無預算金額";if(e===0)return"0";if(Math.abs(e)<1e4)return e.toLocaleString("zh-TW");const n=(o,u)=>{const f=o.toFixed(1);return`${f.endsWith(".0")?f.slice(0,-2):f} ${u}`},i=e/1e8;if(Math.abs(i)>=1)return n(i,"億");const t=e/1e4;return n(t,"萬")}function le(e,n){const i=e?A(e):"0",t=n?A(n):"0";return i==="0"&&t==="0"?"0":`${i} / ${t}`}function me(e,n){if(!e||e.length===0)return[];const i=new Map;return(n??[]).forEach(t=>{t!=null&&t.id&&(t.meetings??[]).forEach(o=>{o!=null&&o.id&&i.set(o.id,t.id)})}),e.map((t,o)=>({id:t.id||o,date:t.meetingDate?new Date(t.meetingDate).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric"}):"日期未定",title:ie(t.type,"會議"),historicalProposalId:t.id?i.get(t.id):void 0,description:t.description||t.location||""}))}function ge(e){return!e||e.length===0?[]:e.map(n=>{var i;return{id:n.id,date:"2025/08/01",proposers:((i=n.proposers)==null?void 0:i.map(t=>t.name).filter(Boolean).join("、"))||"未知"}})}function pe(e,n,i){const t=[e,n,i].filter(Boolean);return t.length===0?"暫無科目計畫":t.join(" > ")}function be(e){var t,o;if(!e)return!1;const n=((t=e.mergedProposals)==null?void 0:t.length)||0,i=((o=e.historicalProposals)==null?void 0:o.length)||0;return n+i>0}export{le as a,me as b,ge as c,de as d,pe as e,A as f,ce as g,be as h,fe as i,ue as j,ie as m,se as u};
